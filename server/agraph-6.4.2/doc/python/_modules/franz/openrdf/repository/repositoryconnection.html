
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>franz.openrdf.repository.repositoryconnection &#8212; AllegroGraph Python client 100.2.0.dev0 documentation</title>
    <link rel="stylesheet" href="../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '100.2.0.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
    <div class="nav-links nav-links-header">
    </div>
  
    
  <h1>Source code for franz.openrdf.repository.repositoryconnection</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># pylint: disable-msg=C0103</span>

<span class="c1">################################################################################</span>
<span class="c1"># Copyright (c) 2006-2017 Franz Inc.  </span>
<span class="c1"># All rights reserved. This program and the accompanying materials are</span>
<span class="c1"># made available under the terms of the MIT License which accompanies</span>
<span class="c1"># this distribution, and is available at http://opensource.org/licenses/MIT</span>
<span class="c1">################################################################################</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">with_statement</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">unicode_literals</span>
<span class="kn">from</span> <span class="nn">future.builtins</span> <span class="k">import</span> <span class="nb">object</span>
<span class="kn">from</span> <span class="nn">past.builtins</span> <span class="k">import</span> <span class="nb">map</span><span class="p">,</span> <span class="n">unicode</span><span class="p">,</span> <span class="n">basestring</span>

<span class="kn">from</span> <span class="nn">franz.miniclient.agjson</span> <span class="k">import</span> <span class="n">encode_json</span>
<span class="kn">from</span> <span class="nn">franz.miniclient.request</span> <span class="k">import</span> <span class="n">wrap_callback</span>
<span class="kn">from</span> <span class="nn">franz.openrdf.repository.attributes</span> <span class="k">import</span> <span class="n">AttributeDefinition</span>
<span class="kn">from</span> <span class="nn">franz.openrdf.util.contexts</span> <span class="k">import</span> <span class="n">output_to</span>

<span class="kn">from</span> <span class="nn">.repositoryresult</span> <span class="k">import</span> <span class="n">RepositoryResult</span>
<span class="kn">from</span> <span class="nn">.transactions</span> <span class="k">import</span> <span class="n">TransactionSettings</span><span class="p">,</span> <span class="n">DEFAULT_TRANSACTION_SETTINGS</span>
<span class="kn">from</span> <span class="nn">..exceptions</span> <span class="k">import</span> <span class="n">IllegalOptionException</span><span class="p">,</span> <span class="n">IllegalArgumentException</span>
<span class="kn">from</span> <span class="nn">..model</span> <span class="k">import</span> <span class="n">Statement</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">URI</span>
<span class="kn">from</span> <span class="nn">..model.literal</span> <span class="k">import</span> <span class="n">RangeLiteral</span><span class="p">,</span> <span class="n">GeoCoordinate</span><span class="p">,</span> <span class="n">GeoSpatialRegion</span><span class="p">,</span> <span class="n">GeoBox</span><span class="p">,</span> <span class="n">GeoCircle</span><span class="p">,</span> <span class="n">GeoPolygon</span><span class="p">,</span> <span class="n">Literal</span>
<span class="kn">from</span> <span class="nn">..query.dataset</span> <span class="k">import</span> <span class="n">ALL_CONTEXTS</span><span class="p">,</span> <span class="n">MINI_NULL_CONTEXT</span>
<span class="kn">from</span> <span class="nn">..query.query</span> <span class="k">import</span> <span class="n">Query</span><span class="p">,</span> <span class="n">TupleQuery</span><span class="p">,</span> <span class="n">UpdateQuery</span><span class="p">,</span> <span class="n">GraphQuery</span><span class="p">,</span> <span class="n">BooleanQuery</span><span class="p">,</span> <span class="n">QueryLanguage</span>
<span class="kn">from</span> <span class="nn">..rio.rdfformat</span> <span class="k">import</span> <span class="n">RDFFormat</span>
<span class="kn">from</span> <span class="nn">..util</span> <span class="k">import</span> <span class="n">uris</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">namedtuple</span>

<span class="kn">import</span> <span class="nn">copy</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="k">import</span> <span class="n">contextmanager</span>


<div class="viewcode-block" id="PrefixFormat"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.PrefixFormat">[docs]</a><span class="k">class</span> <span class="nc">PrefixFormat</span><span class="p">(</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;EncodedIdPrefix&#39;</span><span class="p">,</span> <span class="s1">&#39;prefix format&#39;</span><span class="p">)):</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span></div>


<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="c1"># Hack for isinstance checks</span>
    <span class="kn">import</span> <span class="nn">io</span>
    <span class="n">file</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">IOBase</span>

<span class="c1"># Used instead of None as the default value of optional parameters</span>
<span class="c1"># when we want to distinguish between the caller passing None as</span>
<span class="c1"># the actual value and the parameter not being present in the call.</span>
<span class="n">NOT_GIVEN</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>

<div class="viewcode-block" id="RepositoryConnection"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection">[docs]</a><span class="k">class</span> <span class="nc">RepositoryConnection</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The RepositoryConnection class is the main interface for updating data</span>
<span class="sd">    in and performing queries on a</span>
<span class="sd">    :class:`~franz.openrdf.repository.repository.Repository`. By default, a</span>
<span class="sd">    RespositoryConnection is in autoCommit mode, meaning that each</span>
<span class="sd">    operation corresponds to a single transaction on the underlying triple</span>
<span class="sd">    store. autoCommit can be switched off, in which case it is up to the</span>
<span class="sd">    user to handle transaction commit/rollback. Note that care should be</span>
<span class="sd">    taken to always properly close a RepositoryConnection after one is</span>
<span class="sd">    finished with it, to free up resources and avoid unnecessary locks.</span>

<span class="sd">    Note that concurrent access to the same connection object is explicitly</span>
<span class="sd">    forbidden. The client must perform its own synchronization to ensure</span>
<span class="sd">    non-concurrent access.</span>

<span class="sd">    Several methods take a *vararg* argument that optionally specifies a</span>
<span class="sd">    set of contexts on which the method should operate. (A context is</span>
<span class="sd">    the URI of a subgraph.) Note that a *vararg* parameter is optional, it</span>
<span class="sd">    can be completely left out of the method call, in which case a method</span>
<span class="sd">    either operates on a provided statement&#39;s context (if one of the method</span>
<span class="sd">    parameters is a statement or collection of statements), or operates on</span>
<span class="sd">    the repository as a whole, completely ignoring context. A *vararg*</span>
<span class="sd">    argument may also be ``None``, meaning that the method operates on</span>
<span class="sd">    those statements which have no associated context only.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="RepositoryConnection.__init__"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repository</span><span class="p">,</span> <span class="n">close_repo</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Call through :meth:`~franz.openrdf.repository.repository.Repository.getConnection`.</span>

<span class="sd">        :param repository: Repository to connect to.</span>
<span class="sd">        :type repository: Repository</span>
<span class="sd">        :param close_repo: If ``True`` shutdown the repository when this connection is closed.</span>
<span class="sd">                          The default is ``False``.</span>
<span class="sd">        :type close_repo: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repository</span> <span class="o">=</span> <span class="n">repository</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span> <span class="o">=</span> <span class="n">repository</span><span class="o">.</span><span class="n">mini_repository</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_dedicated_mini_repository</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_commit_size</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_close_repo</span> <span class="o">=</span> <span class="n">close_repo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_session_active</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="RepositoryConnection.getSpec"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getSpec">[docs]</a>    <span class="k">def</span> <span class="nf">getSpec</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the session specification string for this repository.</span>

<span class="sd">        :return: Spec string suitable for use with</span>
<span class="sd">                 :meth:`~franz.openrdf.sail.allegrographserver.AllegroGraphServer.openSession`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">repository</span><span class="o">.</span><span class="n">getSpec</span><span class="p">()</span></div>

    <span class="c1"># By default the mini-client might be shared with other connections to the same repository,</span>
    <span class="c1"># but when opening a session or changing connection settings we need to have our own client.</span>
    <span class="k">def</span> <span class="nf">_get_mini_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dedicated</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">dedicated</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_dedicated_mini_repository</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">has_dedicated_mini_repository</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span>

<div class="viewcode-block" id="RepositoryConnection.getValueFactory"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getValueFactory">[docs]</a>    <span class="k">def</span> <span class="nf">getValueFactory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the :class:`.ValueFactory` associated with this repository.</span>

<span class="sd">        Note that it is recommended to use methods defined in :class:`RepositoryConnection`</span>
<span class="sd">        instead of a value factory. The latter is only provided for RDF4J compatibility.</span>

<span class="sd">        :return: A value factory.</span>
<span class="sd">        :rtype: ValueFactory</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">repository</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.close"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.close">[docs]</a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Close the connection. This also closes the session if it is active.</span>

<span class="sd">        It is safe to call this on a connection that has already been closed.</span>

<span class="sd">        Note that using ``with`` is the preferred way to manage connections.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">closeSession</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_close_repo</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">repository</span><span class="o">.</span><span class="n">shutDown</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.setAddCommitSize"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.setAddCommitSize">[docs]</a>    <span class="k">def</span> <span class="nf">setAddCommitSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">triple_count</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the value of :attr:`.add_commit_size`.</span>
<span class="sd">        :param triple_count: Value of :attr:`.add_commit_size`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">triple_count</span> <span class="ow">or</span> <span class="n">triple_count</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_commit_size</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_commit_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">triple_count</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getAddCommitSize"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getAddCommitSize">[docs]</a>    <span class="k">def</span> <span class="nf">getAddCommitSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the current value of :attr:`.add_commit_size`.</span>
<span class="sd">        :return: Value of :attr:`.add_commit_size`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_commit_size</span></div>

    <span class="n">add_commit_size</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">getAddCommitSize</span><span class="p">,</span> <span class="n">setAddCommitSize</span><span class="p">,</span>
        <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;The threshold for commit size during triple add operations.</span>
<span class="s2">               Set to 0 (zero) or None to clear size-based autocommit behavior.</span>
<span class="s2">               When set to an integer triple_count &gt; 0, a commit will occur every</span>
<span class="s2">               triple_count triples added and at the end of the triples being added.&quot;&quot;&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="RepositoryConnection.prepareQuery"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.prepareQuery">[docs]</a>    <span class="k">def</span> <span class="nf">prepareQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queryLanguage</span><span class="p">,</span> <span class="n">queryString</span><span class="p">,</span> <span class="n">baseURI</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Embed &#39;queryString&#39; into a query object which can be</span>
<span class="sd">        executed against the RDF storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">queryLanguage</span><span class="p">,</span> <span class="n">queryString</span><span class="p">,</span> <span class="n">baseURI</span><span class="p">)</span>
        <span class="n">query</span><span class="o">.</span><span class="n">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">query</span></div>

<div class="viewcode-block" id="RepositoryConnection.prepareTupleQuery"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.prepareTupleQuery">[docs]</a>    <span class="k">def</span> <span class="nf">prepareTupleQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queryLanguage</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">SPARQL</span><span class="p">,</span>
                          <span class="n">query</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baseURI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">queryString</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse ``query`` into a tuple query object which can be</span>
<span class="sd">        executed against the triple stroe.</span>

<span class="sd">        :param queryLanguage: Either ``QueryLanguage.SPARQL`` or ``QueryLanguage.PROLOG``.</span>
<span class="sd">        :type queryLanguage: QueryLanguage</span>
<span class="sd">        :param query: The query string (must contain a ``SELECT`` query).</span>
<span class="sd">        :type query: string</span>
<span class="sd">        :param baseURI: An optional base used to resolve relative URIs in the query.</span>
<span class="sd">        :type baseURI: string|URI</span>
<span class="sd">        :param queryString: Legacy name of the ``query`` parameter.</span>
<span class="sd">        :type queryString: string</span>

<span class="sd">        :return: A query object.</span>
<span class="sd">        :rtype: TupleQuery</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">TupleQuery</span><span class="p">(</span><span class="n">queryLanguage</span><span class="p">,</span> <span class="n">query</span> <span class="ow">or</span> <span class="n">queryString</span><span class="p">,</span> <span class="n">baseURI</span><span class="o">=</span><span class="n">baseURI</span><span class="p">)</span>
        <span class="n">query</span><span class="o">.</span><span class="n">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">query</span></div>

<div class="viewcode-block" id="RepositoryConnection.prepareUpdate"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.prepareUpdate">[docs]</a>    <span class="k">def</span> <span class="nf">prepareUpdate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queryLanguage</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">SPARQL</span><span class="p">,</span>
                      <span class="n">query</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baseURI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">queryString</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse ``query`` into an update query object which can be</span>
<span class="sd">        executed against the triple store.</span>

<span class="sd">        :param queryLanguage: Either ``QueryLanguage.SPARQL`` or ``QueryLanguage.PROLOG``.</span>
<span class="sd">        :type queryLanguage: QueryLanguage</span>
<span class="sd">        :param query: The query string (must contain an ``UPDATE`` query).</span>
<span class="sd">        :type query: string</span>
<span class="sd">        :param baseURI: An optional base used to resolve relative URIs in the query.</span>
<span class="sd">        :type baseURI: string|URI</span>
<span class="sd">        :param queryString: Legacy name of the ``query`` parameter.</span>
<span class="sd">        :type queryString: string</span>

<span class="sd">        :return: A query object.</span>
<span class="sd">        :rtype: UpdateQuery</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">UpdateQuery</span><span class="p">(</span><span class="n">queryLanguage</span><span class="p">,</span> <span class="n">query</span> <span class="ow">or</span> <span class="n">queryString</span><span class="p">,</span>
                            <span class="n">baseURI</span><span class="o">=</span><span class="n">baseURI</span><span class="p">)</span>
        <span class="n">query</span><span class="o">.</span><span class="n">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">query</span></div>

<div class="viewcode-block" id="RepositoryConnection.prepareGraphQuery"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.prepareGraphQuery">[docs]</a>    <span class="k">def</span> <span class="nf">prepareGraphQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queryLanguage</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">SPARQL</span><span class="p">,</span>
                          <span class="n">query</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baseURI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">queryString</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse ``query`` into a graph query object which can be</span>
<span class="sd">        executed against the triple store.</span>

<span class="sd">        :param queryLanguage: Either ``QueryLanguage.SPARQL`` or ``QueryLanguage.PROLOG``.</span>
<span class="sd">        :type queryLanguage: QueryLanguage</span>
<span class="sd">        :param query: The query string (must be a``CONSTRUCT`` or ``DESCRIBE`` query).</span>
<span class="sd">        :type query: string</span>
<span class="sd">        :param baseURI: An optional base used to resolve relative URIs in the query.</span>
<span class="sd">        :type baseURI: string|URI</span>
<span class="sd">        :param queryString: Legacy name of the ``query`` parameter.</span>
<span class="sd">        :type queryString: string</span>

<span class="sd">        :return: A query object.</span>
<span class="sd">        :rtype: GraphQuery</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">queryLanguage</span><span class="p">,</span> <span class="n">query</span> <span class="ow">or</span> <span class="n">queryString</span><span class="p">,</span> <span class="n">baseURI</span><span class="o">=</span><span class="n">baseURI</span><span class="p">)</span>
        <span class="n">query</span><span class="o">.</span><span class="n">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">query</span></div>

<div class="viewcode-block" id="RepositoryConnection.prepareBooleanQuery"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.prepareBooleanQuery">[docs]</a>    <span class="k">def</span> <span class="nf">prepareBooleanQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queryLanguage</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">SPARQL</span><span class="p">,</span>
                            <span class="n">query</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baseURI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">queryString</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse ``query`` into a boolean query object which can be</span>
<span class="sd">        executed against the triple store.</span>

<span class="sd">        :param queryLanguage: Either ``QueryLanguage.SPARQL`` or ``QueryLanguage.PROLOG``.</span>
<span class="sd">        :type queryLanguage: QueryLanguage</span>
<span class="sd">        :param query: The query string (must contain an ``ASK`` query).</span>
<span class="sd">        :type query: string</span>
<span class="sd">        :param baseURI: An optional base used to resolve relative URIs in the query.</span>
<span class="sd">        :type baseURI: string|URI</span>
<span class="sd">        :param queryString: Legacy name of the ``query`` parameter.</span>
<span class="sd">        :type queryString: string</span>

<span class="sd">        :return: A query object.</span>
<span class="sd">        :rtype: BooleanQuery</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">BooleanQuery</span><span class="p">(</span><span class="n">queryLanguage</span><span class="p">,</span> <span class="n">query</span> <span class="ow">or</span> <span class="n">queryString</span><span class="p">,</span>
                             <span class="n">baseURI</span><span class="o">=</span><span class="n">baseURI</span><span class="p">)</span>
        <span class="n">query</span><span class="o">.</span><span class="n">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">query</span></div>

<div class="viewcode-block" id="RepositoryConnection.getContextIDs"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getContextIDs">[docs]</a>    <span class="k">def</span> <span class="nf">getContextIDs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of context resources, one for each context referenced by a quad in</span>
<span class="sd">        the triple store. Note that the default context will not be included in the result.</span>

<span class="sd">        :return: A list of contexts (as :class:`URI` objects).</span>
<span class="sd">        :rtype: list[URI]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">contexts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">cxt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">listContexts</span><span class="p">():</span>
            <span class="n">contexts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">createURI</span><span class="p">(</span><span class="n">cxt</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">contexts</span></div>

<div class="viewcode-block" id="RepositoryConnection.size"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.size">[docs]</a>    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">ALL_CONTEXTS</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of (explicit) statements that are in the specified</span>
<span class="sd">        contexts in this repository.</span>

<span class="sd">        :param contexts: List of contexts (graph URIs) to count the statements in.</span>
<span class="sd">                         By default statements in all graphs will be counted.</span>
<span class="sd">        :type contexts: Iterable[string|URI]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cxts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts_to_ntriple_contexts</span><span class="p">(</span><span class="n">contexts</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cxts</span> <span class="o">==</span> <span class="n">ALL_CONTEXTS</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">cxts</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getSize</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">cxts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getSize</span><span class="p">(</span><span class="n">cxts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">cxt</span> <span class="ow">in</span> <span class="n">cxts</span><span class="p">:</span>
                <span class="n">total</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getSize</span><span class="p">(</span><span class="n">cxt</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">total</span></div>

<div class="viewcode-block" id="RepositoryConnection.isEmpty"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.isEmpty">[docs]</a>    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return ``True`` if this repository does not contain any (explicit) statements.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span></div>

    <span class="k">def</span> <span class="nf">_context_to_ntriples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">context</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">MINI_NULL_CONTEXT</span> <span class="k">if</span> <span class="n">none_is_mini_null</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">context</span> <span class="o">==</span> <span class="n">MINI_NULL_CONTEXT</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">MINI_NULL_CONTEXT</span>

        <span class="k">if</span> <span class="n">context</span> <span class="o">==</span> <span class="s1">&#39;null&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">MINI_NULL_CONTEXT</span>

        <span class="k">if</span> <span class="n">context</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">context</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)</span> <span class="k">else</span> <span class="n">context</span><span class="o">.</span><span class="n">toNTriples</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">none_is_mini_null</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">MINI_NULL_CONTEXT</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_contexts_to_ntriple_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contexts</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Do three transformations here.  Convert from context object(s) to</span>
<span class="sd">        context strings (angle brackets).</span>
<span class="sd">        Also, convert singleton context to list of contexts, and convert</span>
<span class="sd">        ALL_CONTEXTS to None.</span>
<span class="sd">        And, convert None context to &#39;null&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">contexts</span> <span class="o">==</span> <span class="n">ALL_CONTEXTS</span><span class="p">:</span>
            <span class="n">cxts</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">contexts</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">none_is_mini_null</span><span class="p">:</span> <span class="n">cxts</span> <span class="o">=</span> <span class="p">[</span><span class="n">MINI_NULL_CONTEXT</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">cxts</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">contexts</span> <span class="o">==</span> <span class="s1">&#39;null&#39;</span><span class="p">:</span>
            <span class="n">cxts</span> <span class="o">=</span> <span class="p">[</span><span class="n">MINI_NULL_CONTEXT</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contexts</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">cxts</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_context_to_ntriples</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">contexts</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cxts</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_context_to_ntriples</span><span class="p">(</span><span class="n">contexts</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">cxts</span>

    <span class="k">def</span> <span class="nf">_convert_term_to_mini_term</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">term</span><span class="p">,</span> <span class="n">predicate_for_object</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If &#39;term&#39; is a Value, convert it to an ntriples string.  If its a Python</span>
<span class="sd">        term, do likewise</span>
<span class="sd">        If &#39;term&#39; is a CompoundLiteral or a list or tuple, separate out the second</span>
<span class="sd">        value, ntriplize it, and return a binary tuple.</span>
<span class="sd">        TODO: FIGURE OUT HOW COORDINATE PAIRS WILL WORK HERE</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">GeoSpatialRegion</span><span class="p">):</span> <span class="k">return</span> <span class="n">term</span>
        <span class="n">factory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">GeoCoordinate</span><span class="p">):</span>
            <span class="n">geoType</span> <span class="o">=</span> <span class="n">term</span><span class="o">.</span><span class="n">geoType</span>
            <span class="n">miniGeoType</span> <span class="o">=</span> <span class="n">geoType</span><span class="o">.</span><span class="n">_getMiniGeoType</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Cartesian</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">createCartesianGeoLiteral</span><span class="p">(</span><span class="n">miniGeoType</span><span class="p">,</span> <span class="n">term</span><span class="o">.</span><span class="n">xcoor</span><span class="p">,</span> <span class="n">term</span><span class="o">.</span><span class="n">ycoor</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Spherical</span><span class="p">:</span>
                <span class="n">unit</span> <span class="o">=</span> <span class="n">term</span><span class="o">.</span><span class="n">unit</span> <span class="ow">or</span> <span class="n">term</span><span class="o">.</span><span class="n">geoType</span><span class="o">.</span><span class="n">unit</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">createSphericalGeoLiteral</span><span class="p">(</span><span class="n">miniGeoType</span><span class="p">,</span> <span class="n">term</span><span class="o">.</span><span class="n">xcoor</span><span class="p">,</span> <span class="n">term</span><span class="o">.</span><span class="n">ycoor</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOptionException</span><span class="p">(</span><span class="s2">&quot;Unsupported geo coordinate system&quot;</span><span class="p">,</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">RangeLiteral</span><span class="p">):</span>
            <span class="n">beginTerm</span> <span class="o">=</span> <span class="n">term</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">()</span>
            <span class="n">endTerm</span> <span class="o">=</span> <span class="n">term</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">beginTerm</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">endTerm</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_term_to_mini_term</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">predicate_for_object</span><span class="o">=</span><span class="n">predicate_for_object</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">term</span><span class="p">]</span>
        <span class="c1">## OBSOLETE: CONVERT LIST TO RANGE LITERAL:</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="n">factory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span>
            <span class="n">beginTerm</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="n">object_position_term_to_openrdf_term</span><span class="p">(</span><span class="n">term</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">factory</span><span class="o">.</span><span class="n">validateRangeConstant</span><span class="p">(</span><span class="n">beginTerm</span><span class="p">,</span> <span class="n">predicate_for_object</span><span class="p">)</span>
            <span class="n">endTerm</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="n">object_position_term_to_openrdf_term</span><span class="p">(</span><span class="n">term</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">factory</span><span class="o">.</span><span class="n">validateRangeConstant</span><span class="p">(</span><span class="n">endTerm</span><span class="p">,</span> <span class="n">predicate_for_object</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">beginTerm</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">endTerm</span><span class="p">))</span>
        <span class="c1">## END OBSOLETE</span>
        <span class="k">elif</span> <span class="n">predicate_for_object</span><span class="p">:</span>
            <span class="n">term</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="n">object_position_term_to_openrdf_term</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">predicate_for_object</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>

<div class="viewcode-block" id="RepositoryConnection.getStatements"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getStatements">[docs]</a>    <span class="k">def</span> <span class="nf">getStatements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subject</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="nb">object</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">ALL_CONTEXTS</span><span class="p">,</span> <span class="n">includeInferred</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                      <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tripleIDs</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">RDFFormat</span><span class="o">.</span><span class="n">NQX</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all statements with a specific subject, predicate and/or</span>
<span class="sd">        object from the repository. The result is optionally</span>
<span class="sd">        restricted to the specified set of named contexts (graphs).</span>

<span class="sd">        Return a :class:`RepositoryResult` object that can be used to</span>
<span class="sd">        iterate over the resulting statements and filter out</span>
<span class="sd">        duplicates if desired. Alternatively one can write the </span>
<span class="sd">        results to a file or stream using the ``output`` parameter.</span>

<span class="sd">        :param subject: Subject value or ``None`` (no subject filtering).</span>
<span class="sd">        :type subject: Value</span>
<span class="sd">        :param predicate: Predicate value or ``None`` (no predicatefiltering).</span>
<span class="sd">        :type predicate: URI</span>
<span class="sd">        :param object: Object value or ``None`` (no object filtering).</span>
<span class="sd">        :type object: Value</span>
<span class="sd">        :param contexts: An optional list of graphs to retrieve the </span>
<span class="sd">                         statements from.</span>
<span class="sd">                         By default statements are taken from all graphs.</span>
<span class="sd">        :type contexts: URI|string|Iterable[URI|string]</span>
<span class="sd">        :param includeInferred: If ``True``, include triples inferred through </span>
<span class="sd">                                RDFS++ reasoning.</span>
<span class="sd">                                The default is ``False``.</span>
<span class="sd">        :type includeInferred: bool</span>
<span class="sd">        :param limit: Max number of statements to retrieve (optional).</span>
<span class="sd">        :type limit: int</span>
<span class="sd">        :param offset: Used in conjunction with ``limit`` to return results </span>
<span class="sd">                       starting from the nth statement.</span>
<span class="sd">        :type offset: int</span>
<span class="sd">        :param tripleIDs: If ``True`` the id field will be filled </span>
<span class="sd">                          in the returned statements.</span>
<span class="sd">        :param output: File path or a file-like object to write</span>
<span class="sd">                       the result to.</span>
<span class="sd">        :type output: str|file</span>
<span class="sd">        :param output_format: Serialization format for ``output``.</span>
<span class="sd">        :type output_format: RDFFormat</span>
<span class="sd">        :param include_attributes: If true the returned statements will</span>
<span class="sd">            include triple attributes. The default is false.</span>
<span class="sd">        :type include_attributes: bool</span>
<span class="sd">        :return: An iterator over the resulting statements </span>
<span class="sd">                 or ``None`` (if ``output`` is used).</span>
<span class="sd">        :rtype: RepositoryResult</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># note: so with tripleIDs we&#39;ll get triples that are quads consisting of five elements.</span>
        <span class="k">with</span> <span class="n">output_to</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="k">as</span> <span class="n">out_file</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">output</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">out_file</span><span class="o">.</span><span class="n">write</span>
            <span class="n">accept</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">output</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">RDFFormat</span><span class="o">.</span><span class="n">mime_type_for_format</span><span class="p">(</span><span class="n">output_format</span><span class="p">)</span>

            <span class="n">subj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_term_to_mini_term</span><span class="p">(</span><span class="n">subject</span><span class="p">)</span>
            <span class="n">pred</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_term_to_mini_term</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_term_to_mini_term</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">predicate</span><span class="p">)</span>
            <span class="n">cxt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts_to_ntriple_contexts</span><span class="p">(</span><span class="n">contexts</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">GeoSpatialRegion</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">cxt</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">cxt</span> <span class="o">!=</span> <span class="n">ALL_CONTEXTS</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Geospatial queries cannot be limited to a context.&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getStatementsInRegion</span><span class="p">(</span><span class="n">subj</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span>
                                                   <span class="n">accept</span><span class="o">=</span><span class="n">accept</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getStatements</span><span class="p">(</span>
                    <span class="n">subj</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">cxt</span><span class="p">,</span>
                    <span class="n">infer</span><span class="o">=</span><span class="n">includeInferred</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span> <span class="n">tripleIDs</span><span class="o">=</span><span class="n">tripleIDs</span><span class="p">,</span>
                    <span class="n">accept</span><span class="o">=</span><span class="n">accept</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">output</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">RepositoryResult</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">tripleIDs</span><span class="o">=</span><span class="n">tripleIDs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="RepositoryConnection.getStatementsById"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getStatementsById">[docs]</a>    <span class="k">def</span> <span class="nf">getStatementsById</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">RDFFormat</span><span class="o">.</span><span class="n">NQX</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return all statements whose triple ID matches an ID in the list &#39;ids&#39;.</span>

<span class="sd">        :param ids: List of statement ids.</span>
<span class="sd">        :type ids: Iterable[int]</span>
<span class="sd">        :param output: File path or a file-like object to write</span>
<span class="sd">                       the result to.</span>
<span class="sd">        :type output: str|file</span>
<span class="sd">        :param output_format: Serialization format for ``output``.</span>
<span class="sd">        :type output_format: RDFFormat</span>
<span class="sd">        :return: An iterator over requested statements</span>
<span class="sd">                 or ``None`` (if ``output`` is used).</span>
<span class="sd">        :rtype: RepositoryResult</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">output_to</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="k">as</span> <span class="n">out_file</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">output</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">out_file</span><span class="o">.</span><span class="n">write</span>
            <span class="n">accept</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">output</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">RDFFormat</span><span class="o">.</span><span class="n">mime_type_for_format</span><span class="p">(</span><span class="n">output_format</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getStatementsById</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">accept</span><span class="o">=</span><span class="n">accept</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">output</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">RepositoryResult</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">tripleIDs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

    <span class="k">def</span> <span class="nf">_getStatementsInRegion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">accept</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">geoType</span> <span class="o">=</span> <span class="n">region</span><span class="o">.</span><span class="n">geoType</span>
        <span class="n">miniGeoType</span> <span class="o">=</span> <span class="n">geoType</span><span class="o">.</span><span class="n">_getMiniGeoType</span><span class="p">()</span>
        <span class="n">common_args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
            <span class="s1">&#39;offset&#39;</span><span class="p">:</span> <span class="n">offset</span><span class="p">,</span>
            <span class="s1">&#39;accept&#39;</span><span class="p">:</span> <span class="n">accept</span><span class="p">,</span>
            <span class="s1">&#39;callback&#39;</span><span class="p">:</span> <span class="n">callback</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">GeoBox</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Cartesian</span><span class="p">:</span>
                <span class="n">stringTuples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getStatementsInsideBox</span><span class="p">(</span>
                    <span class="n">miniGeoType</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">xMin</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">xMax</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">yMin</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">yMax</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">common_args</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Spherical</span><span class="p">:</span>
                <span class="n">stringTuples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getStatementsInsideBox</span><span class="p">(</span>
                    <span class="n">miniGeoType</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">yMin</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">yMax</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">xMin</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">xMax</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">common_args</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unsupported coordinate system: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">GeoCircle</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Cartesian</span><span class="p">:</span>
                <span class="n">stringTuples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getStatementsInsideCircle</span><span class="p">(</span><span class="n">miniGeoType</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span>
                                        <span class="n">region</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="o">**</span><span class="n">common_args</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Spherical</span><span class="p">:</span>
                <span class="n">stringTuples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getStatementsHaversine</span><span class="p">(</span><span class="n">miniGeoType</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span>
                                        <span class="n">region</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">region</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">region</span><span class="o">.</span><span class="n">unit</span><span class="p">,</span>
                                        <span class="o">**</span><span class="n">common_args</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unsupported coordinate system: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">geoType</span><span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">GeoPolygon</span><span class="p">):</span>
            <span class="n">stringTuples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getStatementsInsidePolygon</span><span class="p">(</span><span class="n">miniGeoType</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">_convert_term_to_mini_term</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">getResource</span><span class="p">()),</span>
                                        <span class="o">**</span><span class="n">common_args</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unsupported region type: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="n">region</span><span class="p">))</span>     <span class="c1"># can&#39;t happen</span>

        <span class="k">if</span> <span class="n">callback</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">RepositoryResult</span><span class="p">(</span><span class="n">stringTuples</span><span class="p">,</span> <span class="n">subjectFilter</span><span class="o">=</span><span class="n">subject</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># NOTE: &#39;format&#39; shadows a built-in symbol but it is too late to change the public API</span>
<div class="viewcode-block" id="RepositoryConnection.add"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.add">[docs]</a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg0</span><span class="p">,</span> <span class="n">arg1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arg2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">serverSide</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls :meth:`.addTriple`, :meth:`.addStatement`, or :meth:`.addFile`.</span>

<span class="sd">        Best practice is to avoid ``add()`` and use :meth:`addTriple`, :meth:`addStatement`</span>
<span class="sd">        or :meth:`addFile` instead.</span>

<span class="sd">        :param arg0: May be a Statement or a filepath. If so, arg1 and arg2 default to None.</span>
<span class="sd">                     May also be the subject of a triple (in that case arg1 and arg2 must be</span>
<span class="sd">                     the predicate and the object respectively).</span>
<span class="sd">        :type arg0: Statement|string|Value</span>
<span class="sd">        :param arg1: Predicate of the new triple.</span>
<span class="sd">        :type arg1: string|Value</span>
<span class="sd">        :param arg2: Object of the new triple.</span>
<span class="sd">        :type arg2: string|Value</span>
<span class="sd">        :param contexts: Optional list of contexts (subgraph URIs), defaulting to None.</span>
<span class="sd">                         A context is the URI of a subgraph. If None, the triple(s) will</span>
<span class="sd">                         be added to the null context (the default or background graph).</span>
<span class="sd">        :type contexts: Iterable[URI|string]</span>
<span class="sd">        :param base: The baseURI to associate with loading a file.  Defaults to ``None``.</span>
<span class="sd">                     If ``None`` the baseURI will be chosen by the server.</span>
<span class="sd">        :type base: string</span>
<span class="sd">        :param format: Either ``RDFFormat.NTRIPLES`` or ``RDFFormat.RDFXML``. Defaults to ``None``.</span>
<span class="sd">        :type format: RDFFormat</span>
<span class="sd">        :param serverSide: Indicates whether the filepath refers to a file on the client computer</span>
<span class="sd">                           or on the server.  Defaults to ``False`` (i.e. client-side).</span>
<span class="sd">        :type serverSide: bool</span>
<span class="sd">        :param attributes: Attributes for the new triple (a mapping from attribute names to values).</span>
<span class="sd">        :type attributes: dict[str, str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">contexts</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contexts</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">contexts</span> <span class="o">=</span> <span class="p">[</span><span class="n">contexts</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="p">(</span><span class="n">basestring</span><span class="p">,</span> <span class="n">file</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">contexts</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">contexts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s2">&quot;Only one context may be specified when loading from a file.&quot;</span><span class="p">)</span>
                <span class="n">context</span> <span class="o">=</span> <span class="n">contexts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">context</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="n">base</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span> <span class="n">serverSide</span><span class="o">=</span><span class="n">serverSide</span><span class="p">,</span>
                                <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">Value</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">addTriple</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">Statement</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">addStatement</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="s1">&#39;__iter__&#39;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">arg0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addStatement</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s2">&quot;Illegal first argument to &#39;add&#39;.  Expected a Value, Statement, File, or string.&quot;</span><span class="p">)</span></div>

    <span class="c1"># NOTE: &#39;format&#39; shadows a built-in symbol but it is too late to change the public API</span>
<div class="viewcode-block" id="RepositoryConnection.addFile"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.addFile">[docs]</a>    <span class="k">def</span> <span class="nf">addFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filePath</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">serverSide</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">content_encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads a file into the triple store. Note that a file can be loaded into only one context.</span>

<span class="sd">        :param filepath: Identifies the file to load.</span>
<span class="sd">        :type filePath: string</span>
<span class="sd">        :param context: An optional context URI (subgraph URI), defaulting to ``None``.</span>
<span class="sd">                        If ``None``, the triple(s) will be added to the null context</span>
<span class="sd">                        (the default or background graph).</span>
<span class="sd">        :type context: URI|string|list[URI|string]</span>
<span class="sd">        :param base: The baseURI to associate with loading a file.  Defaults to ``None``.</span>
<span class="sd">                     If ``None`` the baseURI will be chosen by the server.</span>
<span class="sd">        :type base: string</span>
<span class="sd">        :param format: Either ``RDFFormat.NTRIPLES`` or ``RDFFormat.RDFXML``. Defaults to ``None``.</span>
<span class="sd">        :type format: RDFFormat</span>
<span class="sd">        :param serverSide: Indicates whether the filepath refers to a file on the client computer</span>
<span class="sd">                           or on the server.  Defaults to ``False`` (i.e. client-side).</span>
<span class="sd">        :type serverSide: bool</span>
<span class="sd">        :param attributes: Attributes for all added triples (a mapping from attribute names to values).</span>
<span class="sd">        :type attributes: dict[str, str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s2">&quot;Multiple contexts passed to &#39;addFile&#39;: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">context</span><span class="p">)</span>
            <span class="n">context</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">context</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">contextString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_to_ntriples</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">fmt</span><span class="p">,</span> <span class="n">ce</span> <span class="o">=</span> <span class="n">RDFFormat</span><span class="o">.</span><span class="n">format_for_file_name</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="nb">format</span> <span class="ow">or</span> <span class="n">fmt</span>
        <span class="n">content_encoding</span> <span class="o">=</span> <span class="n">content_encoding</span> <span class="ow">or</span> <span class="n">ce</span>
    
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">loadFile</span><span class="p">(</span>
            <span class="n">filePath</span><span class="p">,</span> <span class="nb">format</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">contextString</span><span class="p">,</span> <span class="n">serverSide</span><span class="o">=</span><span class="n">serverSide</span><span class="p">,</span>
            <span class="n">commitEvery</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">add_commit_size</span><span class="p">,</span> <span class="n">baseURI</span><span class="o">=</span><span class="n">base</span><span class="p">,</span>
            <span class="n">content_encoding</span><span class="o">=</span><span class="n">content_encoding</span><span class="p">,</span>
            <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.addData"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.addData">[docs]</a>    <span class="k">def</span> <span class="nf">addData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">rdf_format</span><span class="o">=</span><span class="n">RDFFormat</span><span class="o">.</span><span class="n">TURTLE</span><span class="p">,</span> <span class="n">base_uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds data from a string to the repository.</span>

<span class="sd">        :param data: Data to be added.</span>
<span class="sd">        :type data: string</span>
<span class="sd">        :param rdf_format: Data format - either a RDFFormat or a MIME type (string).</span>
<span class="sd">        :type rdf_format: RDFFormat|str</span>
<span class="sd">        :param base_uri: Base for resolving relative URIs.</span>
<span class="sd">                         If None (default), the URI will be chosen by the server.</span>
<span class="sd">        :type base_uri: string</span>
<span class="sd">        :param context: Graph to add the data to.</span>
<span class="sd">                        If None (default) the default graph will be used.</span>
<span class="sd">        :type context: URI|string</span>
<span class="sd">        :param attributes: Attributes for the added triples (a mapping from attribute names to values).</span>
<span class="sd">        :type attributes: dict[str, str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_to_ntriples</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">loadData</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span> <span class="n">rdf_format</span><span class="p">,</span> <span class="n">base_uri</span><span class="o">=</span><span class="n">base_uri</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">ctx</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.addTriple"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.addTriple">[docs]</a>    <span class="k">def</span> <span class="nf">addTriple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a single triple to the repository.</span>

<span class="sd">        :param subject: Subject of the new triple.</span>
<span class="sd">        :type subject: Value</span>
<span class="sd">        :param predicate: Predicate of the new triple.</span>
<span class="sd">        :type predicate: Value</span>
<span class="sd">        :param object: Object of the new triple.</span>
<span class="sd">        :type object: Value</span>
<span class="sd">        :param contexts: List of contexts (graph URIs) to add the triple to.</span>
<span class="sd">                         Defaults to ``None``, which adds the statement to the</span>
<span class="sd">                         null context (the default or background graph).</span>
<span class="sd">        :type contexts: Iterable[string|URI]</span>
<span class="sd">        :param attributes: Attributes for the added triple (a mapping from attribute names to values).</span>
<span class="sd">        :type attributes: dict[str, str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">object_position_term_to_openrdf_term</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">predicate</span><span class="p">)</span>
        <span class="n">cxts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts_to_ntriple_contexts</span><span class="p">(</span><span class="n">contexts</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">cxt</span> <span class="ow">in</span> <span class="n">cxts</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">addStatement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">subject</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">predicate</span><span class="p">),</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_convert_term_to_mini_term</span><span class="p">(</span><span class="n">obj</span><span class="p">),</span> <span class="n">cxt</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_to_ntriples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">term</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If &#39;term&#39; is an OpenRDF term, convert it to a string.  If it&#39;s already</span>
<span class="sd">        a string, assume it&#39;s in ntriples format, and just pass it through.</span>
<span class="sd">        If the term is None, return None.</span>
<span class="sd">        Otherwise convert `term` to Literal and make a string from that.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">term</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">term</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="s1">&#39;toNTriples&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">term</span><span class="o">.</span><span class="n">toNTriples</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Literal</span><span class="p">(</span><span class="n">term</span><span class="p">)</span><span class="o">.</span><span class="n">toNTriples</span><span class="p">()</span>

<div class="viewcode-block" id="RepositoryConnection.addTriples"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.addTriples">[docs]</a>    <span class="k">def</span> <span class="nf">addTriples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">triples_or_quads</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ntriples</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add the supplied triples or quads to this repository.</span>

<span class="sd">        Each triple or quad can have between 3 and 5 elements, the last one being</span>
<span class="sd">        the dictionary of attributes (or None if the default attributes should be used).</span>

<span class="sd">        :param triples_or_quads: List of triples or quads. Each element can be</span>
<span class="sd">                                 either a statement or a list or tuple of :class:`Value` objects</span>
<span class="sd">                                 or strings.</span>
<span class="sd">        :type triples_or_quads: Iterable[list[string|Value]|tuple[string|Value]|Statement]</span>
<span class="sd">        :param context: Context (graph) or list of contexts to add the triples to.</span>
<span class="sd">                        Defaults to None (the default graph). Note that this will</span>
<span class="sd">                        be ignored for all input quads that already specify a context.</span>
<span class="sd">        :type context: string|URI|list[string|URI]</span>
<span class="sd">        :param ntriples: If ``True``, parts of the triples are assumed to be strings</span>
<span class="sd">                         in N-Triples format and are sent to the server without any</span>
<span class="sd">                         conversion.</span>
<span class="sd">        :type ntriples: bool</span>
<span class="sd">        :param attributes: Default attributes for the added triples (a mapping from attribute</span>
<span class="sd">                           names to values). These will be used only for statements that do not</span>
<span class="sd">                           contain their own attribute dictionaries.</span>
<span class="sd">        :type attributes: dict[str, str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">quads</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">triples_or_quads</span><span class="p">:</span>
            <span class="c1"># Note: Statement objects will work here, since they have a length</span>
            <span class="c1"># and support accessing components by index.</span>
            <span class="n">is_quad</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span>
            <span class="n">quad_attributes</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="ow">and</span> <span class="n">q</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">attributes</span>
            <span class="k">if</span> <span class="n">ntriples</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">o</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">gs</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">if</span> <span class="n">is_quad</span> <span class="ow">and</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">else</span> <span class="n">context</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">predicate</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">object_position_term_to_openrdf_term</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">predicate</span><span class="o">=</span><span class="n">predicate</span><span class="p">)</span>
                <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
                <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
                <span class="n">gs</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">])]</span> <span class="k">if</span> <span class="n">is_quad</span> <span class="ow">and</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">else</span> <span class="n">context</span>
            <span class="c1"># We try to avoid passing the fifth element, since it might confuse older AG servers.</span>
            <span class="k">if</span> <span class="n">gs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">quad_attributes</span><span class="p">:</span>
                    <span class="n">quads</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">encode_json</span><span class="p">(</span><span class="n">quad_attributes</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">quads</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ntriple_contexts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts_to_ntriple_contexts</span><span class="p">(</span><span class="n">gs</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">quad_attributes</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">ntriple_contexts</span><span class="p">:</span>
                        <span class="n">quads</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">encode_json</span><span class="p">(</span><span class="n">quad_attributes</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">ntriple_contexts</span><span class="p">:</span>
                        <span class="n">quads</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">g</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">addStatements</span><span class="p">(</span><span class="n">quads</span><span class="p">,</span> <span class="n">commitEvery</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">add_commit_size</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.addStatement"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.addStatement">[docs]</a>    <span class="k">def</span> <span class="nf">addStatement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">statement</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">NOT_GIVEN</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add the supplied statement to the specified contexts in the repository.</span>

<span class="sd">        :param statement: The statement to be added. Note that the ``context`` field is</span>
<span class="sd">                          ignored (use the ``contexts`` parameters instead).</span>
<span class="sd">        :type statement: Statement</span>
<span class="sd">        :param contexts: List of contexts (graph URIs) to add the statement to.</span>
<span class="sd">                         If present this overrides the context from the statement object.</span>
<span class="sd">                         The default context is ``None``, which adds the statement to the</span>
<span class="sd">                         null context (the default or background graph).</span>
<span class="sd">        :type contexts: Iterable[string|URI]</span>
<span class="sd">        :param attributes: Attributes for the added triple (a mapping from attribute names to values).</span>
<span class="sd">                           If present this overrides the attributes passed in the statement object.</span>
<span class="sd">        :type attributes: dict[str, str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">contexts</span> <span class="ow">is</span> <span class="n">NOT_GIVEN</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">getContext</span><span class="p">()</span>
            <span class="n">contexts</span> <span class="o">=</span> <span class="p">[</span><span class="n">ctx</span><span class="p">]</span> <span class="k">if</span> <span class="n">ctx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addTriple</span><span class="p">(</span><span class="n">statement</span><span class="o">.</span><span class="n">getSubject</span><span class="p">(),</span> <span class="n">statement</span><span class="o">.</span><span class="n">getPredicate</span><span class="p">(),</span> <span class="n">statement</span><span class="o">.</span><span class="n">getObject</span><span class="p">(),</span>
                       <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.remove"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.remove">[docs]</a>    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg0</span><span class="p">,</span> <span class="n">arg1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arg2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Call :meth:`removeTriples` or :meth:`removeStatement`.</span>

<span class="sd">        Best practice is to avoid :meth:`remove` and use :meth:`removeTriples`</span>
<span class="sd">        or :meth:`removeStatement` directly.</span>

<span class="sd">        Note that ``context`` fields of statements passed to this method are ignored.</span>

<span class="sd">        ``arg0`` may be a :class:`Statement`.  If so, then ``arg1`` and ``arg2`` default to None.</span>

<span class="sd">        ``arg0``, ``arg1``, and ``arg2`` may be the subject, predicate and object of a triple.</span>

<span class="sd">        :param arg0: Either a :class:`Statement`, a list of statements or the subject of a triple.</span>
<span class="sd">        :type arg0: Statement|Value|Iterable[Statement]</span>
<span class="sd">        :param arg1: Predicate of a triple.</span>
<span class="sd">        :type arg1: URI</span>
<span class="sd">        :param arg2: Object of a triple.</span>
<span class="sd">        :type arg2: Value</span>
<span class="sd">        :param contexts: An optional list of graphs to remove triples from.</span>
<span class="sd">        :type contexts: Iterable[URI|string]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">contexts</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contexts</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">contexts</span> <span class="o">=</span> <span class="p">[</span><span class="n">contexts</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">Value</span><span class="p">)</span> <span class="ow">or</span> <span class="n">arg0</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">removeTriples</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">Statement</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">removeStatement</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">arg0</span><span class="p">,</span> <span class="s1">&#39;__iter__&#39;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">arg0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">removeStatement</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s2">&quot;Illegal first argument to &#39;remove&#39;.  Expected a Value, Statement, or iterator.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.removeTriples"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.removeTriples">[docs]</a>    <span class="k">def</span> <span class="nf">removeTriples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">ALL_CONTEXTS</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove the statement(s) with the specified subject, predicate and object</span>
<span class="sd">        from the repository, optionally restricted to the specified contexts.</span>

<span class="sd">        :param subject: Subject of the triples to be removed.</span>
<span class="sd">        :type subject: Value|None</span>
<span class="sd">        :param predicate: Predicate of the triples to be removed.</span>
<span class="sd">        :type predicate: URI|None</span>
<span class="sd">        :param object: Object of the triples to be removed.</span>
<span class="sd">        :type object: Value|None</span>
<span class="sd">        :param contexts: An optional list of graphs to remove triples from.</span>
<span class="sd">        :type contexts: Iterable[URI|string]|None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">subj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">subject</span><span class="p">)</span>
        <span class="n">pred</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">object_position_term_to_openrdf_term</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span>
        <span class="n">ntripleContexts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts_to_ntriple_contexts</span><span class="p">(</span><span class="n">contexts</span><span class="p">,</span> <span class="n">none_is_mini_null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ntripleContexts</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">ntripleContexts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteMatchingStatements</span><span class="p">(</span><span class="n">subj</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">cxt</span> <span class="ow">in</span> <span class="n">ntripleContexts</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteMatchingStatements</span><span class="p">(</span><span class="n">subj</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">cxt</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.removeQuads"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.removeQuads">[docs]</a>    <span class="k">def</span> <span class="nf">removeQuads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quads</span><span class="p">,</span> <span class="n">ntriples</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove enumerated quads from this repository.  Each quad can</span>
<span class="sd">        be a list or a tuple of :class:`Value` objects.</span>

<span class="sd">        :param quads: List of quads. Each element can be</span>
<span class="sd">                      either a statement or a list or tuple of :class:`Value` objects</span>
<span class="sd">                      or strings.</span>
<span class="sd">        :type quads: Iterable[list[string|Value]|tuple[string|Value]]</span>
<span class="sd">        :param ntriples: If ``True``, parts of the quads are assumed to be strings</span>
<span class="sd">                         in N-Triples format and are sent to the server without any</span>
<span class="sd">                         conversion.</span>
<span class="sd">        :type ntriples: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">removeQuads</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">quads</span><span class="p">:</span>
            <span class="n">quad</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span>
            <span class="k">if</span> <span class="n">ntriples</span><span class="p">:</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">quad</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
                <span class="n">predicate</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">object_position_term_to_openrdf_term</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">predicate</span><span class="o">=</span><span class="n">predicate</span><span class="p">)</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># must be a statement</span>
                <span class="n">predicate</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">getPredicate</span><span class="p">()</span>
                <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">object_position_term_to_openrdf_term</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">getObject</span><span class="p">(),</span> <span class="n">predicate</span><span class="o">=</span><span class="n">predicate</span><span class="p">)</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">getSubject</span><span class="p">())</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
                <span class="n">quad</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_ntriples</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">getContext</span><span class="p">())</span>
            <span class="n">removeQuads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">quad</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteStatements</span><span class="p">(</span><span class="n">removeQuads</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.removeQuadsByID"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.removeQuadsByID">[docs]</a>    <span class="k">def</span> <span class="nf">removeQuadsByID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove all quads with matching IDs.</span>

<span class="sd">        :param tids: List of IDs to be removed.</span>
<span class="sd">        :type tids: list[int]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteStatementsById</span><span class="p">(</span><span class="n">tids</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.removeStatement"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.removeStatement">[docs]</a>    <span class="k">def</span> <span class="nf">removeStatement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">statement</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove the supplied statement from the specified contexts in the repository.</span>

<span class="sd">        :param statement: Statement to be removed. Note that the ``context`` field of this object</span>
<span class="sd">                          will be ignored.</span>
<span class="sd">        :type statement: Statement</span>
<span class="sd">        :param contexts: An optional list of graphs to remove the statement from.</span>
<span class="sd">        :type contexts: Iterable[URI|string]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">removeTriples</span><span class="p">(</span><span class="n">statement</span><span class="o">.</span><span class="n">getSubject</span><span class="p">(),</span> <span class="n">statement</span><span class="o">.</span><span class="n">getPredicate</span><span class="p">(),</span> <span class="n">statement</span><span class="o">.</span><span class="n">getObject</span><span class="p">(),</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.clear"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">ALL_CONTEXTS</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes all statements from designated contexts in the repository.  If</span>
<span class="sd">        ``contexts`` is ALL_CONTEXTS, clears the repository of all statements.</span>

<span class="sd">        :param contexts: A context or list of contexts.</span>
<span class="sd">        :type contexts: Iterable[string|URI]|string|URI</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">removeTriples</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.export"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.export">[docs]</a>    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">ALL_CONTEXTS</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Export all explicit statements in the specified contexts to a file.</span>

<span class="sd">        .. deprecated:: 4.14.1</span>
<span class="sd">           Use :meth:`saveResponse` instead.</span>
<span class="sd">        </span>
<span class="sd">        :param handler: An RDFWriter instance describing the target file and data format.</span>
<span class="sd">        :type handler: RDFWriter</span>
<span class="sd">        :param contexts: A context or list of contexts (default: all contexts).</span>
<span class="sd">        :type contexts: Iterable[string|URI]|string|URI</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;export is deprecated. Use saveResponse instead.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exportStatements</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">handler</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">contexts</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.exportStatements"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.exportStatements">[docs]</a>    <span class="k">def</span> <span class="nf">exportStatements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subj</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">includeInferred</span><span class="p">,</span> <span class="n">handler</span><span class="p">,</span> <span class="n">contexts</span><span class="o">=</span><span class="n">ALL_CONTEXTS</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Export statements to a file.</span>

<span class="sd">        .. deprecated:: 4.14.1</span>
<span class="sd">           Use :meth:`saveResponse` instead.</span>

<span class="sd">        :param subj: Subject or ``None`` (i.e. no filtering on subject).</span>
<span class="sd">        :type subj: Value</span>
<span class="sd">        :param pred: Predicate or ``None`` (i.e. no filtering on predicate).</span>
<span class="sd">        :type pred: URI</span>
<span class="sd">        :param obj: Object or ``None`` (i.e. no filtering on object).</span>
<span class="sd">        :type obj: Value</span>
<span class="sd">        :param includeInferred: If ``True`` inferred triples will be included</span>
<span class="sd">                                in the output. The default is ``False``.</span>
<span class="sd">        :type includeInferred: bool</span>
<span class="sd">        :param handler: An RDFWriter instance describing the target file and data format.</span>
<span class="sd">        :type handler: RDFWriter</span>
<span class="sd">        :param contexts: A context or list of contexts (default: all contexts).</span>
<span class="sd">        :type contexts: Iterable[string|URI]|string|URI</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;exportStatements is deprecated. Use getStatements(output=...) instead.&quot;</span><span class="p">,</span>
                      <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getStatements</span><span class="p">(</span><span class="n">subj</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">contexts</span><span class="p">,</span>
                           <span class="n">output</span><span class="o">=</span><span class="n">handler</span><span class="o">.</span><span class="n">getFilePath</span><span class="p">()</span> <span class="ow">or</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
                           <span class="n">output_format</span><span class="o">=</span><span class="n">handler</span><span class="o">.</span><span class="n">getRDFFormat</span><span class="p">(),</span>
                           <span class="n">includeInferred</span><span class="o">=</span><span class="n">includeInferred</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getSubjectTriplesCacheSize"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getSubjectTriplesCacheSize">[docs]</a>    <span class="k">def</span> <span class="nf">getSubjectTriplesCacheSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the current size of the subject triples cache.</span>

<span class="sd">        .. seealso::</span>

<span class="sd">           :meth:`.enablerSubjectTriplesCache`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getTripleCacheSize</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.disableSubjectTriplesCache"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.disableSubjectTriplesCache">[docs]</a>    <span class="k">def</span> <span class="nf">disableSubjectTriplesCache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disable the subject triples cache (see :meth:`.enableSubjectTriplesCache`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">disableTripleCache</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.enableSubjectTriplesCache"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.enableSubjectTriplesCache">[docs]</a>    <span class="k">def</span> <span class="nf">enableSubjectTriplesCache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Maintain a cache of size ``size`` that caches, for each accessed</span>
<span class="sd">        resource, quads where the resource appears in subject position.</span>

<span class="sd">        This can accelerate the performance of certain types of queries.</span>

<span class="sd">        :param size: The maximum number of subjects whose triples will be cached.</span>
<span class="sd">                     Default is 100,000.</span>
<span class="sd">        :type size: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">enableTripleCache</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span></div>

    <span class="c1">## Indexing control methods</span>

<div class="viewcode-block" id="RepositoryConnection.listIndices"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.listIndices">[docs]</a>    <span class="k">def</span> <span class="nf">listIndices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the list of the current set of triple indices.</span>

<span class="sd">        Index names are strings such as ``&quot;gospi&quot;``, ``&quot;spogi&quot;`` etc.</span>
<span class="sd">        Use :meth:`.listValidIndices` to get the list of index names</span>
<span class="sd">        supported by the server.</span>

<span class="sd">        :return: List of index names (see :meth:`.listValidIndices`).</span>
<span class="sd">        :rtype: list[string]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">listIndices</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.listValidIndices"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.listValidIndices">[docs]</a>    <span class="k">def</span> <span class="nf">listValidIndices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the list of valid index names.</span>

<span class="sd">        :return: List of index names.</span>
<span class="sd">        :rtype: list[string]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">listValidIndices</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.addIndex"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.addIndex">[docs]</a>    <span class="k">def</span> <span class="nf">addIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a specific type of index to the current set of triple indices.</span>

<span class="sd">        :param _type: Index name (see :meth:`.listIndices`).</span>
<span class="sd">        :type _type: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">addIndex</span><span class="p">(</span><span class="n">_type</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.dropIndex"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.dropIndex">[docs]</a>    <span class="k">def</span> <span class="nf">dropIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a specific type of index to the current set of triple indices.</span>

<span class="sd">        :param _type: Index name (see :meth:`.listIndices`).</span>
<span class="sd">        :type _type: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">dropIndex</span><span class="p">(</span><span class="n">_type</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.optimizeIndices"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.optimizeIndices">[docs]</a>    <span class="k">def</span> <span class="nf">optimizeIndices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Optimize indices.</span>

<span class="sd">        Please see documentation for argument values and meanings:</span>

<span class="sd">        https://franz.com/agraph/support/documentation/current/triple-index.html#optimize</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">optimizeIndices</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">wait</span><span class="p">)</span></div>

    <span class="c1">#############################################################################################</span>
    <span class="c1">## ValueFactory methods</span>
    <span class="c1">## Added here because its inconvenient to have to dispatch from three different objects</span>
    <span class="c1">## (connection, repository, and value factory) when one will do</span>
    <span class="c1">#############################################################################################</span>

<div class="viewcode-block" id="RepositoryConnection.registerDatatypeMapping"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.registerDatatypeMapping">[docs]</a>    <span class="k">def</span> <span class="nf">registerDatatypeMapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nativeType</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Register an inlined datatype.</span>

<span class="sd">        See :meth:`.Repository.registerDatatypeMapping`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">repository</span><span class="o">.</span><span class="n">registerDatatypeMapping</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="n">predicate</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="n">datatype</span><span class="p">,</span> <span class="n">nativeType</span><span class="o">=</span><span class="n">nativeType</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createLiteral"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createLiteral">[docs]</a>    <span class="k">def</span> <span class="nf">createLiteral</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new literal with value ``value``.  ``datatype``, if supplied,</span>
<span class="sd">        should be a URI (it can be a string or an :class:`.URI` instance, in which</span>
<span class="sd">        case ``value`` must be a string.</span>

<span class="sd">        :param value: Literal value - can be a string, a number or a datetime object.</span>
<span class="sd">        :type value: int|long|float|string|datetime.datetime|datetime.date|datetime.time</span>
<span class="sd">        :param datatype: Optional literal type. Note that if ``value`` is not a string</span>
<span class="sd">                         the type will be guessed automatically.</span>
<span class="sd">        :type datatype: string|URI</span>
<span class="sd">        :param language: Optional language tag.</span>
<span class="sd">        :type language: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">createLiteral</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="n">datatype</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createURI"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createURI">[docs]</a>    <span class="k">def</span> <span class="nf">createURI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">localname</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new URI from the supplied string-representation(s).</span>
<span class="sd">        If two non-keyword arguments are passed, assumes they represent a</span>
<span class="sd">        namespace/localname pair.</span>

<span class="sd">        :param uri: URI text, unless namespace is passed and localname is not,</span>
<span class="sd">                    in which case this becomes the namespace.</span>
<span class="sd">        :type uri: string</span>
<span class="sd">        :param namespace: Namespace part of the URI if ``localname`` is passed,</span>
<span class="sd">                          otherwise this becomes the local name.</span>
<span class="sd">        :type namespace: string|URI</span>
<span class="sd">        :param localname: Local part of the URI. Should only be used as a</span>
<span class="sd">                          keyword argument and together with ``namespace``.</span>
<span class="sd">        :return: An URI object.</span>
<span class="sd">        :rtype: URI</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">createURI</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span> <span class="n">localname</span><span class="o">=</span><span class="n">localname</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createBNode"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createBNode">[docs]</a>    <span class="k">def</span> <span class="nf">createBNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodeID</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new blank node.</span>

<span class="sd">        :param nodeID: Optional node identifier, if not given a fresh one will be generated.</span>
<span class="sd">        :type nodeID: string</span>
<span class="sd">        :return: A BNode value.</span>
<span class="sd">        :rtype: BNode</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">createBNode</span><span class="p">(</span><span class="n">nodeID</span><span class="o">=</span><span class="n">nodeID</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createStatement"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createStatement">[docs]</a>    <span class="k">def</span> <span class="nf">createStatement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new Statement object.</span>

<span class="sd">        Note that this does *not* cause the statement to be added to the repository.</span>

<span class="sd">        :param subject: Subject of the new statement.</span>
<span class="sd">        :type subject: Resource</span>
<span class="sd">        :param predicate: Predicate of the new statement.</span>
<span class="sd">        :type predicate: URI</span>
<span class="sd">        :param object: Object of the new statement.</span>
<span class="sd">        :type object: Value</span>
<span class="sd">        :param context: Graph of the new statement (optional).</span>
<span class="sd">        :type context: URI</span>
<span class="sd">        :return: A new statement.</span>
<span class="sd">        :rtype: Statement</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">createStatement</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createRange"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createRange">[docs]</a>    <span class="k">def</span> <span class="nf">createRange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lowerBound</span><span class="p">,</span> <span class="n">upperBound</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a compound literal representing a range from lowerBound to upperBound.</span>

<span class="sd">        :param lowerBound: Lower bound of the range.</span>
<span class="sd">        :type lowerBound: int</span>
<span class="sd">        :param upperBound: Upper bound of the range.</span>
<span class="sd">        :type upperBound: int</span>
<span class="sd">        :return: A new literal object.</span>
<span class="sd">        :rtype: RangeLiteral</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">createRange</span><span class="p">(</span><span class="n">lowerBound</span><span class="o">=</span><span class="n">lowerBound</span><span class="p">,</span> <span class="n">upperBound</span><span class="o">=</span><span class="n">upperBound</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.addRules"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.addRules">[docs]</a>    <span class="k">def</span> <span class="nf">addRules</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rules</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">PROLOG</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add Prolog functors to the current session.</span>

<span class="sd">        Note that this only works with a dedicated session (See :meth:`.session`.</span>

<span class="sd">        .. seealso::</span>

<span class="sd">           http://franz.com/agraph/support/documentation/current/prolog-tutorial.html</span>
<span class="sd">              Tutorial describing the syntax of Prolog rules (functors).</span>

<span class="sd">        :param rules: A string containing Prolog rule definitions. The definitions</span>
<span class="sd">                      are S-expressions using the ``&lt;-`` and ``&lt;--`` operators</span>
<span class="sd">                      (to append and overwrite rules respectively).</span>
<span class="sd">        :type rules: string</span>
<span class="sd">        :param language: Ignored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">language</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">sessionAlive</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Prolog rules can only be added in a dedicated session.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">definePrologFunctors</span><span class="p">(</span><span class="n">rules</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.loadRules"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.loadRules">[docs]</a>    <span class="k">def</span> <span class="nf">loadRules</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">PROLOG</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add Prolog rules from file to the current session.</span>

<span class="sd">        Note that this only works with a dedicated session.</span>

<span class="sd">        :param filename: Path to the file containing Prolog rules.</span>
<span class="sd">        :type filename: string</span>
<span class="sd">        :param language: Ignored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">_file</span><span class="p">:</span>
            <span class="n">body</span> <span class="o">=</span> <span class="n">_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addRules</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span></div>

    <span class="c1">#############################################################################################</span>
    <span class="c1">## Server-side implementation of namespaces</span>
    <span class="c1">#############################################################################################</span>

<div class="viewcode-block" id="RepositoryConnection.getNamespaces"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getNamespaces">[docs]</a>    <span class="k">def</span> <span class="nf">getNamespaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all declared prefix/namespace pairs.</span>

<span class="sd">        The result is a dictionary mapping prefixes to namespace URIs.</span>

<span class="sd">        :return: A dictionary of namespaces.</span>
<span class="sd">        :rtype: dict[string,string]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">namespaces</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">listNamespaces</span><span class="p">():</span>
            <span class="n">namespaces</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="s1">&#39;prefix&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="s1">&#39;namespace&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">namespaces</span></div>

<div class="viewcode-block" id="RepositoryConnection.getNamespace"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getNamespace">[docs]</a>    <span class="k">def</span> <span class="nf">getNamespace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the namespace that is associated with the specified prefix, if any.</span>

<span class="sd">        :param prefix: Namespace prefix.</span>
<span class="sd">        :return: Namespace URI.</span>
<span class="sd">        :raises RequestError: if there is no namespace with given prefix.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getNamespace</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.setNamespace"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.setNamespace">[docs]</a>    <span class="k">def</span> <span class="nf">setNamespace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define or redefine a namespace mapping in the repository.</span>

<span class="sd">        :param prefix: Namespace prefix.</span>
<span class="sd">        :type prefix: string</span>
<span class="sd">        :param name: Namespace URI.</span>
<span class="sd">        :type name: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">addNamespace</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.removeNamespace"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.removeNamespace">[docs]</a>    <span class="k">def</span> <span class="nf">removeNamespace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove a namespace declaration by removing the association between a</span>
<span class="sd">        prefix and a namespace name.</span>

<span class="sd">        :param prefix: Namespace prefix.</span>
<span class="sd">        :type prefix: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteNamespace</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.clearNamespaces"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.clearNamespaces">[docs]</a>    <span class="k">def</span> <span class="nf">clearNamespaces</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete all namespaces in this repository for the current user.</span>

<span class="sd">        :param reset: If ``True`` (default) the user&#39;s namespaces are reset</span>
<span class="sd">                      to the default set of namespaces, otherwise all namespaces</span>
<span class="sd">                      are cleared.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">clearNamespaces</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span></div>

    <span class="c1">#############################################################################################</span>
    <span class="c1">## Geo-spatial</span>
    <span class="c1">#############################################################################################</span>

<div class="viewcode-block" id="RepositoryConnection.createRectangularSystem"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createRectangularSystem">[docs]</a>    <span class="k">def</span> <span class="nf">createRectangularSystem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xMin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yMin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">yMax</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a Cartesian coordinate system and use it as the current coordinate system.</span>

<span class="sd">        :param scale: Estimate of the Y size of a typical search region.</span>
<span class="sd">        :type scale: float|int</span>
<span class="sd">        :param unit: Must be ``None`` (the default).</span>
<span class="sd">        :param xMin: Left edge of the rectangle.</span>
<span class="sd">        :type xMin: float|int</span>
<span class="sd">        :param xMax: Right edge of the rectangle.</span>
<span class="sd">        :type xMax: float|int</span>
<span class="sd">        :param yMin: Bottom edge of the rectangle.</span>
<span class="sd">        :type yMin: float|int</span>
<span class="sd">        :param yMax: Top edge of the rectangle.</span>
<span class="sd">        :type yMax: float|int</span>
<span class="sd">        :return: The new coordinate system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span> <span class="o">=</span> <span class="n">GeoType</span><span class="p">(</span><span class="n">GeoType</span><span class="o">.</span><span class="n">Cartesian</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span> <span class="n">xMin</span><span class="o">=</span><span class="n">xMin</span><span class="p">,</span> <span class="n">xMax</span><span class="o">=</span><span class="n">xMax</span><span class="p">,</span> <span class="n">yMin</span><span class="o">=</span><span class="n">yMin</span><span class="p">,</span> <span class="n">yMax</span><span class="o">=</span><span class="n">yMax</span><span class="p">)</span>
                               <span class="c1">##,latMin=None, latMax=None, longMin=None, longMax=None)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span><span class="o">.</span><span class="n">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span></div>

<div class="viewcode-block" id="RepositoryConnection.createLatLongSystem"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createLatLongSystem">[docs]</a>    <span class="k">def</span> <span class="nf">createLatLongSystem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">latMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">latMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">longMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">longMax</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a spherical coordinate system and use it as the current coordinate system.</span>

<span class="sd">        :param scale: Estimate of the size of a typical search region in the latitudinal direction.</span>
<span class="sd">        :type scale: float|int</span>
<span class="sd">        :param unit: One of: ``&#39;degree&#39;``, ``&#39;mile&#39;``, ``&#39;radian&#39;``, ``&#39;km&#39;``.</span>
<span class="sd">                     The default is ``&#39;degree&#39;``.</span>
<span class="sd">        :type unit: string</span>
<span class="sd">        :param longMin: Left side of the coordinate system.</span>
<span class="sd">        :type longMin: float|int</span>
<span class="sd">        :param longMax: Right side of the coordinate system.</span>
<span class="sd">        :type longMax: float|int</span>
<span class="sd">        :param latMin: Bottom border of the coordinate system.</span>
<span class="sd">        :type latMin: float|int</span>
<span class="sd">        :param latMax: Top border of the coordinate system.</span>
<span class="sd">        :type latMax: float|int</span>
<span class="sd">        :return: The new coordinate system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span> <span class="o">=</span> <span class="n">GeoType</span><span class="p">(</span><span class="n">GeoType</span><span class="o">.</span><span class="n">Spherical</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span> <span class="n">latMin</span><span class="o">=</span><span class="n">latMin</span><span class="p">,</span> <span class="n">latMax</span><span class="o">=</span><span class="n">latMax</span><span class="p">,</span> <span class="n">longMin</span><span class="o">=</span><span class="n">longMin</span><span class="p">,</span> <span class="n">longMax</span><span class="o">=</span><span class="n">longMax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span><span class="o">.</span><span class="n">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span></div>

<div class="viewcode-block" id="RepositoryConnection.getGeoType"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getGeoType">[docs]</a>    <span class="k">def</span> <span class="nf">getGeoType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the current geospatial coordinate system.</span>

<span class="sd">        :return: A coordinate system.</span>
<span class="sd">        :rtype: GeoType</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span></div>

<div class="viewcode-block" id="RepositoryConnection.setGeoType"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.setGeoType">[docs]</a>    <span class="k">def</span> <span class="nf">setGeoType</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">geoType</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the current geospatial coordinate system.</span>

<span class="sd">        :param geoType: The new coordinate system.</span>
<span class="sd">        :type geoType: GeoType</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span> <span class="o">=</span> <span class="n">geoType</span>
        <span class="n">geoType</span><span class="o">.</span><span class="n">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createCoordinate"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createCoordinate">[docs]</a>    <span class="k">def</span> <span class="nf">createCoordinate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an x, y or latitude, longitude  coordinate in the current coordinate system.</span>

<span class="sd">        Either ``x``, ``y`` or ``latitude``, ``longitude`` must be given.</span>

<span class="sd">        :param x: X coordinate of the created point.</span>
<span class="sd">        :param y: Y coordinate of the created point.</span>
<span class="sd">        :param latitude: Latitude of the created point.</span>
<span class="sd">        :param longitude: Longitude of the created point.</span>
<span class="sd">        :return: A literal representing the created point.</span>
<span class="sd">        :rtype: Literal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span><span class="o">.</span><span class="n">createCoordinate</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="n">longitude</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createBox"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createBox">[docs]</a>    <span class="k">def</span> <span class="nf">createBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yMax</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a rectangular search region (a box) for geospatial search.</span>
<span class="sd">        This method works for both Cartesian and spherical coordinate systems.</span>

<span class="sd">        :param xMin: Minimum latitude.</span>
<span class="sd">        :type xMin: float|int</span>
<span class="sd">        :param xMax: Maximum latitude.</span>
<span class="sd">        :type xMax: float|int</span>
<span class="sd">        :param yMin: Minimum longitude.</span>
<span class="sd">        :type yMin: float|int</span>
<span class="sd">        :param yMax: Maximum longitude.</span>
<span class="sd">        :type yMax: float|int</span>
<span class="sd">        :return: A geospatial literal corresponding to the specified search region.</span>
<span class="sd">        :rtype: Literal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span><span class="o">.</span><span class="n">createBox</span><span class="p">(</span><span class="n">xMin</span><span class="o">=</span><span class="n">xMin</span><span class="p">,</span> <span class="n">xMax</span><span class="o">=</span><span class="n">xMax</span><span class="p">,</span> <span class="n">yMin</span><span class="o">=</span><span class="n">yMin</span><span class="p">,</span> <span class="n">yMax</span><span class="o">=</span><span class="n">yMax</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createCircle"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createCircle">[docs]</a>    <span class="k">def</span> <span class="nf">createCircle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a circular search region for geospatial search.</span>

<span class="sd">        This method works for both Cartesian and spherical coordinate systems.</span>

<span class="sd">        :param x: Latitude of the center.</span>
<span class="sd">        :type x: float|int</span>
<span class="sd">        :param y: Longitude of the center.</span>
<span class="sd">        :type y: float|int</span>
<span class="sd">        :param radius: The radius of the circle expressed in the designated ``unit``.</span>
<span class="sd">        :type radius: float|int</span>
<span class="sd">        :param unit: Unit in which the ``radius`` is expressed.</span>
<span class="sd">                     Defaults to the unit assigned to the coordinate system.</span>
<span class="sd">                     Legal values are ``&quot;degree&quot;``, ``&quot;radian&quot;``, ``&quot;km&quot;`` and ``&quot;mile&quot;``.</span>
<span class="sd">        :type unit: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span><span class="o">.</span><span class="n">createCircle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.createPolygon"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createPolygon">[docs]</a>    <span class="k">def</span> <span class="nf">createPolygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">geoType</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define a polygonal region with the specified vertices.</span>

<span class="sd">        :param vertices: List of x, y pairs.</span>
<span class="sd">        :type vertices: list[(float, float)]</span>
<span class="sd">        :param uri: URI under which the polygon will be stored in the repository.</span>
<span class="sd">                    If not given a blank node will be used.</span>
<span class="sd">        :type uri: URI</span>
<span class="sd">        :param geoType: unused</span>
<span class="sd">        :return: An object representing the newly created polygon.</span>
<span class="sd">        :rtype: GeoPolygon</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">geoType</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">geoType</span><span class="o">.</span><span class="n">createPolygon</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">)</span></div>

    <span class="c1">#############################################################################################</span>
    <span class="c1">## SNA   Social Network Analysis Methods</span>
    <span class="c1">#############################################################################################</span>

<div class="viewcode-block" id="RepositoryConnection.registerSNAGenerator"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.registerSNAGenerator">[docs]</a>    <span class="k">def</span> <span class="nf">registerSNAGenerator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">subjectOf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">objectOf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">undirected</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">generator_query</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new SNA generator named ``name``.</span>
<span class="sd">        If one already exists with the same name - redefine it.</span>

<span class="sd">        The edges traversed by the new generator can be defined in one of two ways:</span>

<span class="sd">           - Using three lists of predicates to define edges between subjects and</span>
<span class="sd">             objects of triples (``subjectOf``, ``objectOf``, ``undirected``).</span>
<span class="sd">           - Using a Prolog query (``generator_query``).</span>

<span class="sd">        Requires a dedicated session.</span>

<span class="sd">        :param name: Name of the new/modified generator.</span>
<span class="sd">        :type name: string</span>
<span class="sd">        :param subjectOf: Create object to subject edges for these predicates.</span>
<span class="sd">        :type subjectOf: list[URI|string]</span>
<span class="sd">        :param objectOf: Create subject to object edges for these predicates.</span>
<span class="sd">        :type objectOf: list[URI|string]</span>
<span class="sd">        :param undirected: Create edges in both directions for these predicates.</span>
<span class="sd">        :type undirected: list[URI|string]</span>
<span class="sd">        :param generator_query: A Prolog query that generates neighbors given</span>
<span class="sd">                                a start node ``?node``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">miniRep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span>
        <span class="n">miniRep</span><span class="o">.</span><span class="n">registerSNAGenerator</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">subjectOf</span><span class="o">=</span><span class="n">subjectOf</span><span class="p">,</span> <span class="n">objectOf</span><span class="o">=</span><span class="n">objectOf</span><span class="p">,</span> <span class="n">undirected</span><span class="o">=</span><span class="n">undirected</span><span class="p">,</span>
                                     <span class="n">query</span><span class="o">=</span><span class="n">generator_query</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.registerNeighborMatrix"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.registerNeighborMatrix">[docs]</a>    <span class="k">def</span> <span class="nf">registerNeighborMatrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">generator</span><span class="p">,</span> <span class="n">group_uris</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct a neighbor matrix named ``name``.</span>

<span class="sd">        The generator named ``generator`` is applied to each URI in ``group_uris``,</span>
<span class="sd">        computing edges to max depth ``max_depth``.</span>

<span class="sd">        Requires a dedicated session.</span>

<span class="sd">        :param name: Name that will be used to identify the matrix.</span>
<span class="sd">        :type name: string</span>
<span class="sd">        :param generator: Name of the SNA generator used to compute the edges.</span>
<span class="sd">                          See :meth:`.registerSNAGenerator`.</span>
<span class="sd">        :type generator: string</span>
<span class="sd">        :param group_uris: Initial list of vertices from which the graph will be created.</span>
<span class="sd">        :type group_uris: list[URI|string]</span>
<span class="sd">        :param max_depth: Max distance from the initial vertices.</span>
<span class="sd">        :type max_depth: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">miniRep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span>
        <span class="n">miniRep</span><span class="o">.</span><span class="n">registerNeighborMatrix</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">group_uris</span><span class="p">,</span> <span class="n">generator</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.listFreeTextIndices"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.listFreeTextIndices">[docs]</a>    <span class="k">def</span> <span class="nf">listFreeTextIndices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the names of currently defined free-text indices.</span>

<span class="sd">        :return: List of index names.</span>
<span class="sd">        :rtype: list[string]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span><span class="o">.</span><span class="n">listFreeTextIndices</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.createFreeTextIndex"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.createFreeTextIndex">[docs]</a>    <span class="k">def</span> <span class="nf">createFreeTextIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">predicates</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">indexLiterals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">indexResources</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">indexFields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minimumWordSize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stopWords</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wordFilters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">innerChars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">borderChars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tokenizer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a free-text index with the given parameters.</span>

<span class="sd">        .. seealso::</span>

<span class="sd">           http://franz.com/agraph/support/documentation/current/http-protocol.html#put-freetext-index</span>
<span class="sd">              Documentation of the HTTP endpoint used by this method.</span>

<span class="sd">           http://franz.com/agraph/support/documentation/current/text-index.html</span>
<span class="sd">              General information about text indexing in AllegroGraph.</span>

<span class="sd">        :param name: Name for the new index.</span>
<span class="sd">        :type name: string</span>
<span class="sd">        :param predicates: A list of predicates to be indexed. If not given all</span>
<span class="sd">                           triples will be indexed regardless of predicate.</span>
<span class="sd">        :type predicates: list[string|URI]</span>
<span class="sd">        :param indexLiterals: Determines which literals to index. It can be``True``</span>
<span class="sd">                              (the default), ``False``, or a list of resources,</span>
<span class="sd">                              indicating the literal types that should be indexed.</span>
<span class="sd">        :type indexLiterals: bool|list[URI]</span>
<span class="sd">        :param indexResources: Determines which resources are indexed. It can be</span>
<span class="sd">                               ``True``, ``False`` (the default), or ``&quot;short&quot;``,</span>
<span class="sd">                               to index only the part of resources after the last</span>
<span class="sd">                               slash or hash character.</span>
<span class="sd">        :type indexResources: bool|string</span>
<span class="sd">        :param indexFields: List of triples fields to index. Can be any combination</span>
<span class="sd">                            of ``&quot;subject&quot;``, ``&quot;predicate&quot;``, ``&quot;object&quot;``, and</span>
<span class="sd">                            ``&quot;graph&quot;``. The default is ``[&quot;object&quot;]``.</span>
<span class="sd">        :type indexFields: list[string]</span>
<span class="sd">        :param minimumWordSize: Determines the minimum size a word must have to be</span>
<span class="sd">                                indexed. The default is 3.</span>
<span class="sd">        :type minimumWordSize: int</span>
<span class="sd">        :param stopWords: List of words that should not be indexed.</span>
<span class="sd">                          When not given, a list of common English words is used.</span>
<span class="sd">        :type stopWords: list[string]</span>
<span class="sd">        :param wordFilters: List of normalizing filters used to process words</span>
<span class="sd">                            before indexing. The list if supported filters can</span>
<span class="sd">                            be found here:</span>
<span class="sd">                            http://franz.com/agraph/support/documentation/current/text-index.html</span>
<span class="sd">        :type wordFilters: list[string]</span>
<span class="sd">        :param innerChars: The character set to be used as the constituent characters of a word.</span>
<span class="sd">                           Should be a list of character classes. Valid classes are:</span>

<span class="sd">                               - `&quot;alpha&quot;``: All (unicode) alphabetic characters.</span>
<span class="sd">                               - ``&quot;digit&quot;``: All base-10 digits.</span>
<span class="sd">                               - ``&quot;alphanumeric&quot;``: All digits and alphabetic characters.</span>
<span class="sd">                               - a single character</span>
<span class="sd">                               - a range of characters: A single character, followed by a dash (-)</span>
<span class="sd">                                 character, followed by another single character.</span>
<span class="sd">        :type innerChars: list[string]</span>
<span class="sd">        :param borderChars: The character set to be used as the border characters of indexed words.</span>
<span class="sd">                            Uses the same syntax as ``innerChars``.</span>
<span class="sd">        :type borderChars: list[string]</span>
<span class="sd">        :param tokenizer: Controls the way in which the text is plit into tokens.</span>
<span class="sd">                          Can be either ``&quot;default&quot;`` or ``&quot;japaense&quot;``.</span>
<span class="sd">                          Note that the ``japaense`` tokenizer ignores ``innerChars``</span>
<span class="sd">                          and ``borderChars``.</span>
<span class="sd">        :type tokenizer: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">predicates</span><span class="p">:</span> <span class="n">predicates</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">uris</span><span class="o">.</span><span class="n">asURIString</span><span class="p">,</span> <span class="n">predicates</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indexLiterals</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span> <span class="n">indexLiterals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">uris</span><span class="o">.</span><span class="n">asURIString</span><span class="p">,</span> <span class="n">indexLiterals</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span><span class="o">.</span><span class="n">createFreeTextIndex</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">predicates</span><span class="o">=</span><span class="n">predicates</span><span class="p">,</span> <span class="n">indexLiterals</span> <span class="o">=</span> <span class="n">indexLiterals</span><span class="p">,</span>
                                                 <span class="n">indexResources</span><span class="o">=</span><span class="n">indexResources</span><span class="p">,</span> <span class="n">indexFields</span><span class="o">=</span><span class="n">indexFields</span><span class="p">,</span>
                                                 <span class="n">minimumWordSize</span><span class="o">=</span><span class="n">minimumWordSize</span><span class="p">,</span> <span class="n">stopWords</span><span class="o">=</span><span class="n">stopWords</span><span class="p">,</span>
                                                 <span class="n">wordFilters</span><span class="o">=</span><span class="n">wordFilters</span><span class="p">,</span> <span class="n">innerChars</span><span class="o">=</span><span class="n">innerChars</span><span class="p">,</span>
                                                 <span class="n">borderChars</span><span class="o">=</span><span class="n">borderChars</span><span class="p">,</span> <span class="n">tokenizer</span><span class="o">=</span><span class="n">tokenizer</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.modifyFreeTextIndex"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.modifyFreeTextIndex">[docs]</a>    <span class="k">def</span> <span class="nf">modifyFreeTextIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">predicates</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">indexLiterals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">indexResources</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">indexFields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minimumWordSize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stopWords</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wordFilters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">reIndex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">innerChars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">borderChars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tokenizer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Modify parameters of a free-text index.</span>

<span class="sd">        :param name: Name of the index to be modified.</span>
<span class="sd">        :type name: string</span>
<span class="sd">        :param predicates: A list of predicates to be indexed. If not given all</span>
<span class="sd">                           triples will be indexed regardless of predicate.</span>
<span class="sd">        :type predicates: list[string|URI]</span>
<span class="sd">        :param indexLiterals: Determines which literals to index. It can be``True``</span>
<span class="sd">                              (the default), ``False``, or a list of resources,</span>
<span class="sd">                              indicating the literal types that should be indexed.</span>
<span class="sd">        :type indexLiterals: bool|list[URI]</span>
<span class="sd">        :param indexResources: Determines which resources are indexed. It can be</span>
<span class="sd">                               ``True``, ``False`` (the default), or ``&quot;short&quot;``,</span>
<span class="sd">                               to index only the part of resources after the last</span>
<span class="sd">                               slash or hash character.</span>
<span class="sd">        :type indexResources: bool|string</span>
<span class="sd">        :param indexFields: List of triples fields to index. Can be any combination</span>
<span class="sd">                            of ``&quot;subject&quot;``, ``&quot;predicate&quot;``, ``&quot;object&quot;``, and</span>
<span class="sd">                            ``&quot;graph&quot;``. The default is ``[&quot;object&quot;]``.</span>
<span class="sd">        :type indexFields: list[string]</span>
<span class="sd">        :param minimumWordSize: Determines the minimum size a word must have to be</span>
<span class="sd">                                indexed. The default is 3.</span>
<span class="sd">        :type minimumWordSize: int</span>
<span class="sd">        :param stopWords: List of words that should not be indexed.</span>
<span class="sd">                          When not given, a list of common English words is used.</span>
<span class="sd">        :type stopWords: list[string]</span>
<span class="sd">        :param wordFilters: List of normalizing filters used to process words</span>
<span class="sd">                            before indexing. The list if supported filters can</span>
<span class="sd">                            be found here:</span>
<span class="sd">                            http://franz.com/agraph/support/documentation/current/text-index.html</span>
<span class="sd">        :type wordFilters: list[string]</span>
<span class="sd">        :param innerChars: The character set to be used as the constituent characters of a word.</span>
<span class="sd">                           Should be a list of character classes. Valid classes are:</span>

<span class="sd">                               - `&quot;alpha&quot;``: All (unicode) alphabetic characters.</span>
<span class="sd">                               - ``&quot;digit&quot;``: All base-10 digits.</span>
<span class="sd">                               - ``&quot;alphanumeric&quot;``: All digits and alphabetic characters.</span>
<span class="sd">                               - a single character</span>
<span class="sd">                               - a range of characters: A single character, followed by a dash (-)</span>
<span class="sd">                                 character, followed by another single character.</span>
<span class="sd">        :type innerChars: list[string]</span>
<span class="sd">        :param borderChars: The character set to be used as the border characters of indexed words.</span>
<span class="sd">                            Uses the same syntax as ``innerChars``.</span>
<span class="sd">        :type borderChars: list[string]</span>
<span class="sd">        :param tokenizer: Controls the way in which the text is plit into tokens.</span>
<span class="sd">                          Can be either ``&quot;default&quot;`` or ``&quot;japaense&quot;``.</span>
<span class="sd">                          Note that the ``japaense`` tokenizer ignores ``innerChars``</span>
<span class="sd">                          and ``borderChars``.</span>
<span class="sd">        :type tokenizer: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">predicates</span><span class="p">:</span> <span class="n">predicates</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">uris</span><span class="o">.</span><span class="n">asURIString</span><span class="p">,</span> <span class="n">predicates</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indexLiterals</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span> <span class="n">indexLiterals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">uris</span><span class="o">.</span><span class="n">asURIString</span><span class="p">,</span> <span class="n">indexLiterals</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span><span class="o">.</span><span class="n">modifyFreeTextIndex</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">predicates</span><span class="o">=</span><span class="n">predicates</span><span class="p">,</span> <span class="n">indexLiterals</span> <span class="o">=</span> <span class="n">indexLiterals</span><span class="p">,</span>
                                                 <span class="n">indexResources</span><span class="o">=</span><span class="n">indexResources</span><span class="p">,</span> <span class="n">indexFields</span><span class="o">=</span><span class="n">indexFields</span><span class="p">,</span>
                                                 <span class="n">minimumWordSize</span><span class="o">=</span><span class="n">minimumWordSize</span><span class="p">,</span> <span class="n">stopWords</span><span class="o">=</span><span class="n">stopWords</span><span class="p">,</span>
                                                 <span class="n">wordFilters</span><span class="o">=</span><span class="n">wordFilters</span><span class="p">,</span> <span class="n">reIndex</span><span class="o">=</span><span class="n">reIndex</span><span class="p">,</span> <span class="n">innerChars</span><span class="o">=</span><span class="n">innerChars</span><span class="p">,</span>
                                                 <span class="n">borderChars</span><span class="o">=</span><span class="n">borderChars</span><span class="p">,</span> <span class="n">tokenizer</span><span class="o">=</span><span class="n">tokenizer</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.deleteFreeTextIndex"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.deleteFreeTextIndex">[docs]</a>    <span class="k">def</span> <span class="nf">deleteFreeTextIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete a free-text index from the server.</span>

<span class="sd">        :param name: Index name.</span>
<span class="sd">        :type name: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span><span class="o">.</span><span class="n">deleteFreeTextIndex</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getFreeTextIndexConfiguration"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getFreeTextIndexConfiguration">[docs]</a>    <span class="k">def</span> <span class="nf">getFreeTextIndexConfiguration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the current settings of a free-text index.</span>

<span class="sd">        The result will be a dictionary where keys are parameter names</span>
<span class="sd">        as used in :meth:`.createFreeTextIndex`.</span>

<span class="sd">        :param name: Index name.</span>
<span class="sd">        :type name: string</span>
<span class="sd">        :return: A dictionary with configuration data, keys are argument</span>
<span class="sd">                 names from :meth:`.createFreeTextIndex`.</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mini_repository</span><span class="o">.</span><span class="n">getFreeTextIndexConfiguration</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">value</span><span class="p">[</span><span class="s2">&quot;predicates&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">URI</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;predicates&quot;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="s2">&quot;indexLiterals&quot;</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">value</span><span class="p">[</span><span class="s2">&quot;indexLiterals&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">URI</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;indexLiterals&quot;</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="RepositoryConnection.evalFreeTextSearch"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.evalFreeTextSearch">[docs]</a>    <span class="k">def</span> <span class="nf">evalFreeTextSearch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">infer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of statements for the given free-text pattern search.</span>

<span class="sd">        If no index is provided, all indices will be used.</span>

<span class="sd">        :param pattern: Search pattern, see</span>
<span class="sd">                        http://franz.com/agraph/support/documentation/current/http-protocol.html#get-post-freetext</span>
<span class="sd">                        for details.</span>
<span class="sd">        :type pattern: string</span>
<span class="sd">        :param index: List of indices to query. If not given - query all indices.</span>
<span class="sd">        :type index: string|list[string]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">miniRep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">miniRep</span><span class="o">.</span><span class="n">evalFreeTextSearch</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">infer</span><span class="p">,</span> <span class="n">wrap_callback</span><span class="p">(</span><span class="n">callback</span><span class="p">),</span> <span class="n">limit</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">offset</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.openSession"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.openSession">[docs]</a>    <span class="k">def</span> <span class="nf">openSession</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">loadinitfile</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open a session.</span>

<span class="sd">        It is not an error to call this when a session is already active on this connection,</span>
<span class="sd">        but no new session will be created (i.e. nested sessions are not supported).</span>

<span class="sd">        .. seealso::</span>

<span class="sd">           http://franz.com/agraph/support/documentation/current/http-protocol.html#sessions</span>
<span class="sd">              More detailed explanation of session-related concepts in the HTTP API reference.</span>

<span class="sd">        :param autocommit: if ``True``, commits are done on each request, otherwise</span>
<span class="sd">                           you will need to call :meth:`.commit` or :meth:`.rollback`</span>
<span class="sd">                           as appropriate for your application.</span>
<span class="sd">                           The default value is ``False``.</span>
<span class="sd">        :type autocommit: bool</span>
<span class="sd">        :param lifetime: Time (in seconds) before the session expires when idle.</span>
<span class="sd">                         Note that the client maintains a thread that pings the</span>
<span class="sd">                         session before this happens.</span>
<span class="sd">                         The maximum acceptable value is 21600 (6 hours).</span>
<span class="sd">                         When the value is ``None`` (the default) the lifetime</span>
<span class="sd">                         is set to 300 seconds (5 minutes).</span>
<span class="sd">        :type lifetime: int</span>
<span class="sd">        :param loadinitfile: if ``True`` then the current initfile will be loaded</span>
<span class="sd">                             for you when the session starts. The default is ``False``.</span>
<span class="sd">        :type loadinitfile: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_session_active</span><span class="p">:</span>
            <span class="n">mini_repo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">(</span><span class="n">dedicated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">mini_repo</span><span class="o">.</span><span class="n">openSession</span><span class="p">(</span><span class="n">autocommit</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">loadinitfile</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_session_active</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="RepositoryConnection.closeSession"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.closeSession">[docs]</a>    <span class="k">def</span> <span class="nf">closeSession</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Close a session.</span>

<span class="sd">        It is not an error to call this when no session is active.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_session_active</span><span class="p">:</span>
            <span class="c1"># Not deleting the dedicated mini_repository in case the user</span>
            <span class="c1"># calls openSession again.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">closeSession</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_session_active</span> <span class="o">=</span> <span class="kc">False</span></div>

    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">del</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<div class="viewcode-block" id="RepositoryConnection.session"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.session">[docs]</a>    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="n">autocommit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">loadinitfile</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A session context manager for use with the ``with`` statement:</span>

<span class="sd">        .. code:: python</span>

<span class="sd">            with conn.session():</span>
<span class="sd">                # Automatically calls openSession at block start</span>
<span class="sd">                # Do work</span>
<span class="sd">                # Automatically calls closeSession at block end</span>
<span class="sd">                # or in case of an exception.</span>


<span class="sd">        :param autocommit: if ``True``, commits are done on each request, otherwise</span>
<span class="sd">                           you will need to call :meth:`.commit` or :meth:`.rollback`</span>
<span class="sd">                           as appropriate for your application.</span>
<span class="sd">                           The default value is ``False``.</span>
<span class="sd">        :type autocommit: bool</span>
<span class="sd">        :param lifetime: Time (in seconds) before the session expires when idle.</span>
<span class="sd">                         Note that the client maintains a thread that ping the</span>
<span class="sd">                         session before this happens.</span>
<span class="sd">        :type lifetime: int</span>
<span class="sd">        :param loadinitfile: if ``True`` then the current initfile will be loaded</span>
<span class="sd">                             for you when the session starts. The default is ``False``.</span>
<span class="sd">        :type loadinitfile: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">openSession</span><span class="p">(</span><span class="n">autocommit</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">loadinitfile</span><span class="p">)</span>
        <span class="k">yield</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">closeSession</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.runAsUser"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.runAsUser">[docs]</a>    <span class="k">def</span> <span class="nf">runAsUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Only for use as a superuser during a session.</span>

<span class="sd">        Runs requests on this connection as username.</span>

<span class="sd">        None - the default - clears the setting.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">runAsUser</span><span class="p">(</span><span class="n">username</span><span class="p">)</span></div>

    <span class="c1"># This is completely insane. Are we really suggesting that to the users!?</span>

<div class="viewcode-block" id="RepositoryConnection.saveResponse"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.saveResponse">[docs]</a>    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">saveResponse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="n">accept</span><span class="p">,</span> <span class="n">raiseAll</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the server response(s) for the call(s) within the with statement</span>
<span class="sd">        to fileobj, using accept for the response type requested.</span>

<span class="sd">        .. deprecated:: 100.0.1</span>
<span class="sd">           Use getStatements(output=...) or evaluate(output=...) to export data.</span>

<span class="sd">        Responses will be uncompressed and saved to fileobj, but not decoded.</span>
<span class="sd">        Therefore, the API called will likely error out shortly after the</span>
<span class="sd">        response is saved (which is okay because we really only want</span>
<span class="sd">        the side-effect of saving the response).</span>

<span class="sd">        RequestError is always thrown on errors from the server.</span>
<span class="sd">        Other exceptions can be optionally raised with raiseAll=True.</span>

<span class="sd">        You will only want to make only one conn call in the with statement</span>
<span class="sd">        unless you wrap each call in its own try/except.</span>

<span class="sd">        Example:</span>

<span class="sd">        with open(&#39;out&#39;, &#39;w&#39;) as response:</span>
<span class="sd">            with conn.saveResponse(response, &#39;application/rdf+xml&#39;):</span>
<span class="sd">                conn.getStatements(None, None, None) # The response is written to response</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">saveResponse</span><span class="p">(</span><span class="n">fileobj</span><span class="p">,</span> <span class="n">accept</span><span class="p">,</span> <span class="n">raiseAll</span><span class="p">):</span>
            <span class="k">yield</span></div>

<div class="viewcode-block" id="RepositoryConnection.commit"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.commit">[docs]</a>    <span class="k">def</span> <span class="nf">commit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Commit changes on an open session.</span>

<span class="sd">        Parameters can be used to control distributed transaction settings</span>
<span class="sd">        for the current transaction, as if using :meth:`temporaryTransactionSettings`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">settings</span> <span class="ow">or</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">temporaryTransactionSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.rollback"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.rollback">[docs]</a>    <span class="k">def</span> <span class="nf">rollback</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Roll back changes on open session.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.evalInServer"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.evalInServer">[docs]</a>    <span class="k">def</span> <span class="nf">evalInServer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluate the Lisp code in the server.</span>

<span class="sd">        You must have &quot;eval&quot; permissions to the store to use this feature.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">evalInServer</span><span class="p">(</span><span class="n">code</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.evalJavaScript"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.evalJavaScript">[docs]</a>    <span class="k">def</span> <span class="nf">evalJavaScript</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluate the JavaScript code in the server.</span>

<span class="sd">        You must have &quot;eval&quot; permissions to the store to use this feature.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">evalJavaScript</span><span class="p">(</span><span class="n">code</span><span class="p">)</span></div>

    <span class="c1"># NOTE: &#39;format&#39; shadows a built-in symbol but it is too late to change the public API</span>
<div class="viewcode-block" id="RepositoryConnection.registerEncodedIdPrefix"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.registerEncodedIdPrefix">[docs]</a>    <span class="k">def</span> <span class="nf">registerEncodedIdPrefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="nb">format</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Registers a single encoded prefix.</span>

<span class="sd">        See: https://franz.com/agraph/support/documentation/current/encoded-ids.html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">registerEncodedIdPrefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="nb">format</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.registerEncodedIdPrefixes"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.registerEncodedIdPrefixes">[docs]</a>    <span class="k">def</span> <span class="nf">registerEncodedIdPrefixes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">registrations</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Registers multiple encoded prefixes. Any kind of iteratable collection</span>
<span class="sd">        of items with a prefix attribute and format attribute, or the prefix</span>
<span class="sd">        at index 0 and the format at index 1 will do (e.g. a list of tuples).</span>
<span class="sd">        Using PrefixFormat instances also works well.</span>

<span class="sd">        See: https://franz.com/agraph/support/documentation/current/encoded-ids.html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">registerEncodedIdPrefixes</span><span class="p">(</span><span class="n">registrations</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.listEncodedIdPrefixes"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.listEncodedIdPrefixes">[docs]</a>    <span class="k">def</span> <span class="nf">listEncodedIdPrefixes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lists all encoded id prefixes.</span>

<span class="sd">        See: https://franz.com/agraph/support/documentation/current/encoded-ids.html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">regs</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">enc_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">listEncodedIdPrefixes</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">enc_id</span> <span class="ow">in</span> <span class="n">enc_ids</span><span class="p">:</span>
            <span class="n">regs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PrefixFormat</span><span class="p">(</span><span class="n">enc_id</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span> <span class="n">enc_id</span><span class="p">[</span><span class="s2">&quot;format&quot;</span><span class="p">]))</span>

        <span class="k">return</span> <span class="n">regs</span></div>

<div class="viewcode-block" id="RepositoryConnection.unregisterEncodedIdPrefix"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.unregisterEncodedIdPrefix">[docs]</a>    <span class="k">def</span> <span class="nf">unregisterEncodedIdPrefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unregisters the specified encoded id prefix.</span>

<span class="sd">        See: https://franz.com/agraph/support/documentation/current/encoded-ids.html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">unregisterEncodedIdPrefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.allocateEncodedIds"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.allocateEncodedIds">[docs]</a>    <span class="k">def</span> <span class="nf">allocateEncodedIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">amount</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        allocateEncodedIds allows you to use the server to allocate</span>
<span class="sd">        unique ids for a given registered prefix which has a fixed-width</span>
<span class="sd">        format specifier.</span>

<span class="sd">        See notes on next-encoded-upi-for-prefix in:</span>

<span class="sd">        https://franz.com/agraph/support/documentation/current/encoded-ids.html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">allocateEncodedIds</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.deleteDuplicates"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.deleteDuplicates">[docs]</a>    <span class="k">def</span> <span class="nf">deleteDuplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete duplicate triples from the store.</span>

<span class="sd">        :param mode: can be `&quot;spo&quot;` (triples are duplicates if they have the same subject,</span>
<span class="sd">                    predicate, and object, regardless of the graph) or `&quot;spog&quot;` (triples</span>
<span class="sd">                    are duplicates if they have the same subject, predicate, object, and</span>
<span class="sd">                    graph).</span>

<span class="sd">        .. seealso::</span>

<span class="sd">           Method :meth:`getDuplicateStatements`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getDuplicateStatements"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getDuplicateStatements">[docs]</a>    <span class="k">def</span> <span class="nf">getDuplicateStatements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return all duplicates in the store.</span>

<span class="sd">        :param mode: can be `&quot;spo&quot;` (triples are duplicates if they have the same subject,</span>
<span class="sd">            predicate, and object, regardless of the graph) or `&quot;spog&quot;` (triples</span>
<span class="sd">            are duplicates if they have the same subject, predicate, object, and</span>
<span class="sd">            graph).</span>
<span class="sd">        :return: An iterator over duplicate statements.</span>
<span class="sd">        :rtype: RepositoryResult</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stringTuples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getDuplicateStatements</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">RepositoryResult</span><span class="p">(</span><span class="n">stringTuples</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getDuplicateSuppressionPolicy"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getDuplicateSuppressionPolicy">[docs]</a>    <span class="k">def</span> <span class="nf">getDuplicateSuppressionPolicy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the duplicate suppression policy used by the store.</span>
<span class="sd">        See https://franz.com/agraph/support/documentation/current/deleting-duplicate-triples.html</span>

<span class="sd">        :return: Duplicate suppression policy: &quot;spo&quot;, &quot;spog&quot; or None.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getDuplicateSuppressionPolicy</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.setDuplicateSuppressionPolicy"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.setDuplicateSuppressionPolicy">[docs]</a>    <span class="k">def</span> <span class="nf">setDuplicateSuppressionPolicy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the duplicate suppression policy used by the store.</span>
<span class="sd">        See https://franz.com/agraph/support/documentation/current/deleting-duplicate-triples.html</span>

<span class="sd">        :param mode: Duplicate suppression policy: &quot;spo&quot;, &quot;spog&quot; or None (disable suppression).</span>
<span class="sd">        :type mode: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">setDuplicateSuppressionPolicy</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.disableDuplicateSuppression"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.disableDuplicateSuppression">[docs]</a>    <span class="k">def</span> <span class="nf">disableDuplicateSuppression</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disable duplicate suppression for this store.</span>
<span class="sd">        See https://franz.com/agraph/support/documentation/current/deleting-duplicate-triples.html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">disableDuplicateSuppression</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.callStoredProc"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.callStoredProc">[docs]</a>    <span class="k">def</span> <span class="nf">callStoredProc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">callStoredProc</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span>
            <span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getSpinFunction"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getSpinFunction">[docs]</a>    <span class="k">def</span> <span class="nf">getSpinFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the string of the function for the given uri.</span>
<span class="sd">         uri - Spin function identifier</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getSpinFunction</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.putSpinFunction"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.putSpinFunction">[docs]</a>    <span class="k">def</span> <span class="nf">putSpinFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">sparqlQuery</span><span class="p">,</span> <span class="n">arguments</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a Spin function.</span>
<span class="sd">         uri - Spin function identifier</span>
<span class="sd">         sparqlQuery - Spin function query text</span>
<span class="sd">         arguments - names of arguments in the sparqlQuery</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">putSpinFunction</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">sparqlQuery</span><span class="p">,</span> <span class="n">arguments</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.deleteSpinFunction"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.deleteSpinFunction">[docs]</a>    <span class="k">def</span> <span class="nf">deleteSpinFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes the Spin function at the given uri.</span>
<span class="sd">         uri - Spin function identifier</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteSpinFunction</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.listSpinFunctions"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.listSpinFunctions">[docs]</a>    <span class="k">def</span> <span class="nf">listSpinFunctions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of defined SPIN function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">listSpinFunctions</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.putSpinMagicProperty"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.putSpinMagicProperty">[docs]</a>    <span class="k">def</span> <span class="nf">putSpinMagicProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">sparqlQuery</span><span class="p">,</span> <span class="n">arguments</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a Spin magic property.</span>
<span class="sd">         uri - Spin magic property identifier</span>
<span class="sd">         sparqlQuery</span>
<span class="sd">         arguments - names of arguments to the sparqlQuery - must contain the leading question mark</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">putSpinMagicProperty</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">sparqlQuery</span><span class="p">,</span> <span class="n">arguments</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getSpinMagicProperty"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getSpinMagicProperty">[docs]</a>    <span class="k">def</span> <span class="nf">getSpinMagicProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the spin magic property for the uri</span>
<span class="sd">         uri - spin magic property identifier</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getSpinMagicProperty</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.listSpinMagicProperties"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.listSpinMagicProperties">[docs]</a>    <span class="k">def</span> <span class="nf">listSpinMagicProperties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of defined SPIN magic properties function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">listSpinMagicProperties</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.deleteSpinMagicProperty"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.deleteSpinMagicProperty">[docs]</a>    <span class="k">def</span> <span class="nf">deleteSpinMagicProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes the Spin magic property at the given uri.</span>
<span class="sd">         uri - Spin magic property identifier</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteSpinMagicProperty</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.materializeEntailed"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.materializeEntailed">[docs]</a>    <span class="k">def</span> <span class="nf">materializeEntailed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_with</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">without</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">useTypeSubproperty</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="mi">100000</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Call to materialize entailed triples to enable reasoning queries without the dynamic query-time reasoner.</span>
<span class="sd">        Returns the number of triples added.</span>

<span class="sd">        _with and without can be either a single string or a list of strings denoting rules beyond rdfs++ you wish to use.</span>
<span class="sd">        See the documentation for the current set, but &quot;same-as&quot;, &quot;restriction&quot;, &quot;values-from&quot;, &quot;class&quot;, and &quot;property&quot; are examples.</span>

<span class="sd">        useTypeSubproperty tells the materializer to prefer using types that are rdfs:subPropertyOf rdf:type rather than rdf:type directly.</span>

<span class="sd">        commit indicates the number of triples per commit for the materializer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">materializeEntailed</span><span class="p">(</span><span class="n">_with</span><span class="o">=</span><span class="n">_with</span><span class="p">,</span> <span class="n">without</span><span class="o">=</span><span class="n">without</span><span class="p">,</span> <span class="n">useTypeSubproperty</span><span class="o">=</span><span class="n">useTypeSubproperty</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="n">commit</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.deleteMaterialized"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.deleteMaterialized">[docs]</a>    <span class="k">def</span> <span class="nf">deleteMaterialized</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes all previously materialized triples.</span>
<span class="sd">        Returns the number of triples deleted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteMaterialized</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.namespace"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.namespace">[docs]</a>    <span class="k">def</span> <span class="nf">namespace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an object that allows for simple creation of URIs in given namespace.</span>
<span class="sd">        Attribute lookups on the returned object will produce URIs with the attribute</span>
<span class="sd">        name as localname. Indexing into the object or calling it like a function</span>
<span class="sd">        will have the same effect.</span>

<span class="sd">        &gt;&gt;&gt; from franz.openrdf.connect import ag_connect</span>
<span class="sd">        &gt;&gt;&gt; conn = ag_connect(&#39;repo&#39;)</span>
<span class="sd">        &gt;&gt;&gt; ex = conn.namespace(&#39;http://franz.com/example/&#39;)</span>
<span class="sd">        &gt;&gt;&gt; ex.foo</span>
<span class="sd">        &lt;http://franz.com/example/foo&gt;</span>
<span class="sd">        &gt;&gt;&gt; ex[&#39;bar&#39;]</span>
<span class="sd">        &lt;http://franz.com/example/bar&gt;</span>
<span class="sd">        &gt;&gt;&gt; ex(&#39;baz&#39;)</span>
<span class="sd">        &lt;http://franz.com/example/baz&gt;</span>

<span class="sd">        :param prefix: Prefix prepended to URIs created by the returned object.</span>
<span class="sd">        :type prefix: str</span>
<span class="sd">        :return: An object that can be used to create URIs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValueFactory</span><span class="p">()</span><span class="o">.</span><span class="n">namespace</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.executeTupleQuery"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.executeTupleQuery">[docs]</a>    <span class="k">def</span> <span class="nf">executeTupleQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">SPARQL</span><span class="p">,</span>
                          <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">RDFFormat</span><span class="o">.</span><span class="n">TABLE</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepare and immediately evaluate a query that returns tuples.</span>

<span class="sd">        :param query: Query text.</span>
<span class="sd">        :type query: str</span>
<span class="sd">        :param language: Query language, the default is SPARQL.</span>
<span class="sd">        :type language: QueryLanguage</span>
<span class="sd">        :param output: File path or a file-like object to write</span>
<span class="sd">                       the result to.</span>
<span class="sd">        :type output: str|file</span>
<span class="sd">        :param output_format: Serialization format for ``output``.</span>
<span class="sd">        :type output_format: RDFFormat</span>

<span class="sd">        :return: Query result, or ``None`` if ``output`` is used.</span>
<span class="sd">        :rtype: TupleQueryResult</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepareTupleQuery</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="n">output</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">output_format</span><span class="p">)</span></div>


<div class="viewcode-block" id="RepositoryConnection.executeGraphQuery"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.executeGraphQuery">[docs]</a>    <span class="k">def</span> <span class="nf">executeGraphQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">SPARQL</span><span class="p">,</span>
                          <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">RDFFormat</span><span class="o">.</span><span class="n">NQX</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepare and immediately evaluate a query that returns RDF.</span>

<span class="sd">        :param query: Query text.</span>
<span class="sd">        :type query: str</span>
<span class="sd">        :param language: Query language, the default is SPARQL.</span>
<span class="sd">        :type language: QueryLanguage</span>
<span class="sd">        :param output: File path or a file-like object to write</span>
<span class="sd">                       the result to.</span>
<span class="sd">        :type output: str|file</span>
<span class="sd">        :param output_format: Serialization format for ``output``.</span>
<span class="sd">        :type output_format: RDFFormat</span>

<span class="sd">        :return: Query result, or ``None`` if ``output`` is used.</span>
<span class="sd">        :rtype: RepositoryResult|None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepareGraphQuery</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="n">output</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">output_format</span><span class="p">)</span></div>


<div class="viewcode-block" id="RepositoryConnection.executeBooleanQuery"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.executeBooleanQuery">[docs]</a>    <span class="k">def</span> <span class="nf">executeBooleanQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">SPARQL</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepare and immediately evaluate a query that returns</span>
<span class="sd">        a boolean.</span>

<span class="sd">        :param query: Query text.</span>
<span class="sd">        :type query: str</span>
<span class="sd">        :param language: Query language, the default is SPARQL.</span>
<span class="sd">        :type language: QueryLanguage</span>

<span class="sd">        :return: Query result.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepareBooleanQuery</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.executeUpdate"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.executeUpdate">[docs]</a>    <span class="k">def</span> <span class="nf">executeUpdate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepare and immediately evaluate a SPARQL update query.</span>

<span class="sd">        :param query: Query text.</span>
<span class="sd">        :type query: str</span>

<span class="sd">        :return: Query result (true iff the store has been modified).</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepareUpdate</span><span class="p">(</span><span class="n">QueryLanguage</span><span class="o">.</span><span class="n">SPARQL</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.setTransactionSettings"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.setTransactionSettings">[docs]</a>    <span class="k">def</span> <span class="nf">setTransactionSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change distributed transaction settings used by this connection.</span>

<span class="sd">        The new settings can be described either by a :class:`TransactionSettings`</span>
<span class="sd">        object or by passing individual parameters as keyword arguments.</span>
<span class="sd">        Argument names must match the fields of the :class:`TransactionSettings`</span>
<span class="sd">        class.</span>

<span class="sd">        If a settings object is passed all settings will be replaced.</span>
<span class="sd">        Keyword arguments will only affect specific parameters, any</span>
<span class="sd">        setting for which there is no corresponding keyword argument</span>
<span class="sd">        in the call will keep its current value.</span>

<span class="sd">        If both types of arguments are passed they will be merged, with keyword</span>
<span class="sd">        arguments taking precedence over values from the settings object.</span>

<span class="sd">        :param settings: A settings object.</span>
<span class="sd">        :type settings: TransactionSettings</span>
<span class="sd">        :param kwargs: Individual transaction parameters.</span>
<span class="sd">                       See :class:`TransactionSettings` for a list of valid names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">(</span><span class="n">dedicated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">settings</span> <span class="ow">or</span> <span class="n">client</span><span class="o">.</span><span class="n">transaction_settings</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">settings</span> <span class="o">=</span> <span class="p">(</span><span class="n">settings</span> <span class="ow">or</span> <span class="n">DEFAULT_TRANSACTION_SETTINGS</span><span class="p">)</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">transaction_settings</span> <span class="o">=</span> <span class="n">settings</span></div>

<div class="viewcode-block" id="RepositoryConnection.temporaryTransactionSettings"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.temporaryTransactionSettings">[docs]</a>    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">temporaryTransactionSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a context in which transaction settings of this connection</span>
<span class="sd">        are modified or replaced.</span>

<span class="sd">        If a settings object is given as an argument it will replace all</span>
<span class="sd">        transaction settings. Keyword arguments may be used to modify</span>
<span class="sd">        individual transaction parameters without affecting other settings.</span>

<span class="sd">        Here is how this method can be used to temporarily lower durability</span>
<span class="sd">        requirements while executing some operations::</span>

<span class="sd">            with conn.temporaryTransactionSettings(durability=&#39;min&#39;):</span>
<span class="sd">                # Durability is now &#39;min&#39;, other settings remain unchanged.</span>
<span class="sd">                # Perform some operations</span>
<span class="sd">                ...</span>
<span class="sd">                conn.commit()</span>
<span class="sd">            # At this points durability will be restored to its original value.</span>

<span class="sd">        :param settings: A settings object.</span>
<span class="sd">        :type settings: TransactionSettings</span>
<span class="sd">        :param kwargs: Individual transaction parameters.</span>
<span class="sd">                       See :class:`TransactionSettings` for a list of valid names.</span>
<span class="sd">        :return: A context manager that takes care of changing and restroing</span>
<span class="sd">                 distributed transaction settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">(</span><span class="n">dedicated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">old_settings</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">transaction_settings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setTransactionSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">yield</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setTransactionSettings</span><span class="p">(</span><span class="n">old_settings</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getTransactionSettings"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getTransactionSettings">[docs]</a>    <span class="k">def</span> <span class="nf">getTransactionSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return distributed transaction settings currently in force.</span>

<span class="sd">        :return: A settings object.</span>
<span class="sd">        :rtype: TransactionSettings</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">transaction_settings</span></div>

<div class="viewcode-block" id="RepositoryConnection.setUserAttributes"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.setUserAttributes">[docs]</a>    <span class="k">def</span> <span class="nf">setUserAttributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attributes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set user attributes (used to filter the store during queries).</span>

<span class="sd">        :param attributes: A dictionary mapping attribute names to values.</span>
<span class="sd">                           A value is either a string or a list of strings.</span>
<span class="sd">        :type attributes: dict[str, str|list[str]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">(</span><span class="n">dedicated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">user_attributes</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">attributes</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getUserAttributes"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getUserAttributes">[docs]</a>    <span class="k">def</span> <span class="nf">getUserAttributes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the current set of user attributes.</span>

<span class="sd">        :return: A dictionary mapping attribute names to values</span>
<span class="sd">                 (or lists of values).</span>
<span class="sd">        :rtype: dict[str, str|list[str]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">user_attributes</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.temporaryUserAttributes"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.temporaryUserAttributes">[docs]</a>    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">temporaryUserAttributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attributes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set user attributes for the duration of a code block.</span>

<span class="sd">        This method returns a context manager. It can be used like this::</span>

<span class="sd">            with conn.temporaryUserAttributes({&#39;access-level&#39;: &#39;low&#39;}):</span>
<span class="sd">                conn.do_something()</span>

<span class="sd">        :param attributes: A dictionary mapping attribute names to values.</span>
<span class="sd">                           A value is either a string or a list of strings.</span>
<span class="sd">        :type attributes: dict[str, str|list[str]]</span>
<span class="sd">        :rtype: ContextManager[None]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">(</span><span class="n">dedicated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">old</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">user_attributes</span>
        <span class="n">client</span><span class="o">.</span><span class="n">user_attributes</span> <span class="o">=</span> <span class="n">attributes</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">yield</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">client</span><span class="o">.</span><span class="n">user_attributes</span> <span class="o">=</span> <span class="n">old</span></div>

<div class="viewcode-block" id="RepositoryConnection.setAttributeDefinition"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.setAttributeDefinition">[docs]</a>    <span class="k">def</span> <span class="nf">setAttributeDefinition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_def</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define or modify an attribute definition.</span>

<span class="sd">        :param attr_def: Attribute definition.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">setAttributeDefinition</span><span class="p">(</span><span class="n">attr_def</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.deleteAttributeDefinition"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.deleteAttributeDefinition">[docs]</a>    <span class="k">def</span> <span class="nf">deleteAttributeDefinition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete an attribute definition.</span>

<span class="sd">        :param name: Attribute name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">deleteAttributeDefinition</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getAttributeDefinitions"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getAttributeDefinitions">[docs]</a>    <span class="k">def</span> <span class="nf">getAttributeDefinitions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a list of all attribute definitions from the server.</span>

<span class="sd">        :return: A list of attribute definition objects.</span>
<span class="sd">        :rtype: list[AttributeDefinition]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getAttributeDefinitions</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">attribute_definition_from_dict</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw</span><span class="p">]</span></div>

<div class="viewcode-block" id="RepositoryConnection.getAttributeDefinition"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getAttributeDefinition">[docs]</a>    <span class="k">def</span> <span class="nf">getAttributeDefinition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the definition of a given attribute.</span>

<span class="sd">        Return None if there is no such attribute.</span>

<span class="sd">        :param name: Attribute name.</span>
<span class="sd">        :return: A definition object.</span>
<span class="sd">        :rtype: AttributeDefinition</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getAttributeDefinition</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raw</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">attribute_definition_from_dict</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="RepositoryConnection.setAttributeFilter"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.setAttributeFilter">[docs]</a>    <span class="k">def</span> <span class="nf">setAttributeFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute_filter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the static attribute filter.</span>

<span class="sd">        :param attribute_filter: The filter - either an AttributeFilter</span>
<span class="sd">                                 or a string.</span>
<span class="sd">        :type attribute_filter: AttributeFilter|str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">setAttributeFilter</span><span class="p">(</span><span class="n">attribute_filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="RepositoryConnection.getAttributeFilter"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.getAttributeFilter">[docs]</a>    <span class="k">def</span> <span class="nf">getAttributeFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the current static attribute filter.</span>

<span class="sd">        The result will be a string, not an AttributeFilter object.</span>

<span class="sd">        :return: The filter or none (if there is no static filter).</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getAttributeFilter</span><span class="p">()</span></div>

<div class="viewcode-block" id="RepositoryConnection.clearAttributeFilter"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.RepositoryConnection.clearAttributeFilter">[docs]</a>    <span class="k">def</span> <span class="nf">clearAttributeFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove the static attribute filter (if set).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">clearAttributeFilter</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="attribute_definition_from_dict"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.attribute_definition_from_dict">[docs]</a><span class="k">def</span> <span class="nf">attribute_definition_from_dict</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">AttributeDefinition</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">),</span>
        <span class="n">allowed_values</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;allowed-values&#39;</span><span class="p">),</span>
        <span class="n">ordered</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ordered&#39;</span><span class="p">)),</span>
        <span class="n">minimum_number</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;minimum-number&#39;</span><span class="p">),</span>
        <span class="n">maximum_number</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;maximum-number&#39;</span><span class="p">)</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="GeoType"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.GeoType">[docs]</a><span class="k">class</span> <span class="nc">GeoType</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">Cartesian</span> <span class="o">=</span> <span class="s1">&#39;CARTESIAN&#39;</span>
    <span class="n">Spherical</span> <span class="o">=</span> <span class="s1">&#39;SPHERICAL&#39;</span>
<div class="viewcode-block" id="GeoType.__init__"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.GeoType.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">latMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">latMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">longMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">longMax</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">system</span> <span class="o">=</span> <span class="n">system</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="n">scale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="n">unit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xMin</span> <span class="o">=</span> <span class="n">xMin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xMax</span> <span class="o">=</span> <span class="n">xMax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yMin</span> <span class="o">=</span> <span class="n">yMin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yMax</span> <span class="o">=</span> <span class="n">yMax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latMin</span> <span class="o">=</span> <span class="n">latMin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latMax</span> <span class="o">=</span> <span class="n">latMax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">longMin</span> <span class="o">=</span> <span class="n">longMin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">longMax</span> <span class="o">=</span> <span class="n">longMax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">miniGeoType</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Cartesian</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">unit</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Units not yet supported for rectangular coordinates.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="k">pass</span>  <span class="c1">## can&#39;t happen</span></div>

<div class="viewcode-block" id="GeoType.setConnection"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.GeoType.setConnection">[docs]</a>    <span class="k">def</span> <span class="nf">setConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="n">connection</span></div>

    <span class="k">def</span> <span class="nf">_getMiniGeoType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">stringify</span><span class="p">(</span><span class="n">term</span><span class="p">):</span> <span class="k">return</span> <span class="n">unicode</span><span class="p">(</span><span class="n">term</span><span class="p">)</span> <span class="k">if</span> <span class="n">term</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">miniGeoType</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Cartesian</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">miniGeoType</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getCartesianGeoType</span><span class="p">(</span><span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">),</span> <span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xMin</span><span class="p">),</span> <span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xMax</span><span class="p">),</span>
                                                                                <span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yMin</span><span class="p">),</span> <span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yMax</span><span class="p">))</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Spherical</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">miniGeoType</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span><span class="o">.</span><span class="n">getSphericalGeoType</span><span class="p">(</span><span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">unit</span><span class="p">),</span>
                                <span class="n">latMin</span><span class="o">=</span><span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">latMin</span><span class="p">),</span> <span class="n">latMax</span><span class="o">=</span><span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">latMax</span><span class="p">),</span> <span class="n">longMin</span><span class="o">=</span><span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">longMin</span><span class="p">),</span> <span class="n">longMax</span><span class="o">=</span><span class="n">stringify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">longMax</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">miniGeoType</span>

<div class="viewcode-block" id="GeoType.createCoordinate"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.GeoType.createCoordinate">[docs]</a>    <span class="k">def</span> <span class="nf">createCoordinate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an x, y  or lat, long  coordinate for the system defined by this geotype.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GeoCoordinate</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">(</span><span class="n">x</span> <span class="ow">or</span> <span class="n">latitude</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span> <span class="ow">or</span> <span class="n">longitude</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span> <span class="n">geoType</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="GeoType.createBox"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.GeoType.createBox">[docs]</a>    <span class="k">def</span> <span class="nf">createBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yMin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define a rectangular region for the current coordinate system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GeoBox</span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span> <span class="n">xMax</span><span class="p">,</span> <span class="n">yMin</span><span class="p">,</span> <span class="n">yMax</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span> <span class="n">geoType</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="GeoType.createCircle"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.GeoType.createCircle">[docs]</a>    <span class="k">def</span> <span class="nf">createCircle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define a circular region with vertex x,y and radius &quot;radius&quot;.</span>
<span class="sd">        The distance unit for the radius is either &#39;unit&#39; or the unit specified</span>
<span class="sd">        for this GeoType.  If &#39;innerRadius&#39; is specified, the region is</span>
<span class="sd">        ring-shaped, consisting of the space between the inner and outer circles.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GeoCircle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span> <span class="n">geoType</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="GeoType.createPolygon"><a class="viewcode-back" href="../../../../_gen/franz.openrdf.repository.html#franz.openrdf.repository.repositoryconnection.GeoType.createPolygon">[docs]</a>    <span class="k">def</span> <span class="nf">createPolygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define a polygonal region with the specified vertices.  &#39;vertices&#39;</span>
<span class="sd">        is a list of x,y pairs. The &#39;uri&#39; is optional.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">poly</span> <span class="o">=</span> <span class="n">GeoPolygon</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span> <span class="n">geoType</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">poly</span><span class="o">.</span><span class="n">resource</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">createURI</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span> <span class="k">if</span> <span class="n">uri</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">createBNode</span><span class="p">()</span>
        <span class="n">miniResource</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">_convert_term_to_mini_term</span><span class="p">(</span><span class="n">poly</span><span class="o">.</span><span class="n">resource</span><span class="p">)</span>
        <span class="n">miniRep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">_get_mini_repository</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Cartesian</span><span class="p">:</span>
            <span class="n">miniVertices</span> <span class="o">=</span> <span class="p">[</span><span class="n">miniRep</span><span class="o">.</span><span class="n">createCartesianGeoLiteral</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_getMiniGeoType</span><span class="p">(),</span> <span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">poly</span><span class="o">.</span><span class="n">vertices</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">system</span> <span class="o">==</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">Spherical</span><span class="p">:</span>
            <span class="n">miniVertices</span> <span class="o">=</span> <span class="p">[</span><span class="n">miniRep</span><span class="o">.</span><span class="n">createSphericalGeoLiteral</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_getMiniGeoType</span><span class="p">(),</span> <span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">poly</span><span class="o">.</span><span class="n">vertices</span><span class="p">]</span>
        <span class="n">miniRep</span><span class="o">.</span><span class="n">createPolygon</span><span class="p">(</span><span class="n">miniResource</span><span class="p">,</span> <span class="n">miniVertices</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">poly</span></div></div>
</pre></div>

  
    <div class="nav-links nav-links-footer">
    </div>
  

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../../index.html">
              <img class="logo" src="../../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../../index.html">AllegroGraph Python client</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=franzinc&repo=agraph-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api.html">AllegroGraph Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../changes.html">Release notes</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Franz Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>